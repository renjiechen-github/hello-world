'use strict';(function(f){function q(){e=!1}function r(){g&&(window.clearTimeout(t),g=!1,k=null)}function u(a){g||(g=!0,k=a.changedTouches[0],t=window.setTimeout(w,800))}function w(){g=!1;var a=k,b=document.createEvent("MouseEvent");b.initMouseEvent("mouseup",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null);a.target.dispatchEvent(b);b=document.createEvent("MouseEvent");b.initMouseEvent("mousedown",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,2,null);a.target.dispatchEvent(b);b=document.createEvent("MouseEvent");b.initMouseEvent("contextmenu",!0,!0,window,1,a.screenX+50,a.screenY+5,a.clientX+50,a.clientY+5,!1,!1,!1,!1,2,null);a.target.dispatchEvent(b);b=document.createEvent("MouseEvent");b.initMouseEvent("mouseup",!0,!0,window,1,a.screenX+50,a.screenY+5,a.clientX+50,a.clientY+5,!1,!1,!1,!1,2,null);a.target.dispatchEvent(b);n=!0;k=null}function v(a){return a.targetTouches&&a.targetTouches[0]?document.elementFromPoint(a.targetTouches[0].pageX-window.pageXOffset,a.targetTouches[0].pageY-window.pageYOffset):null}function l(a){var b;if(!(1<a.touches.length)){switch(a.type){case "touchstart":if(f(a.changedTouches[0].target).is("select"))return;b=a.changedTouches[0];var c="mouseover",d=document.createEvent("MouseEvent");d.initMouseEvent(c,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(d);c="mousedown";d=document.createEvent("MouseEvent");d.initMouseEvent(c,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);b.target.dispatchEvent(d);e?(window.clearTimeout(p),b.target==h?(h=null,e=!1,c="click",d=document.createEvent("MouseEvent"),d.initMouseEvent(c,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null),b.target.dispatchEvent(d),c="dblclick",d=document.createEvent("MouseEvent"),d.initMouseEvent(c,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null),b.target.dispatchEvent(d)):(h=b.target,e=!0,p=window.setTimeout(q,600),u(a))):(h=b.target,e=!0,p=window.setTimeout(q,600),u(a));a.preventDefault();m=v(a);return!1;case "touchmove":r();b="mousemove";a.preventDefault();m=v(a);break;case "touchend":if(n)return n=!1,a.preventDefault(),!1;r();b="mouseup";break;default:return}a=a.changedTouches[0];c=document.createEvent("MouseEvent");c.initMouseEvent(b,!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null);m.dispatchEvent(c);"mouseup"==b&&e&&a.target==h&&(c=document.createEvent("MouseEvent"),c.initMouseEvent("click",!0,!0,window,1,a.screenX,a.screenY,a.clientX,a.clientY,!1,!1,!1,!1,0,null),m.dispatchEvent(c))}}var h=null,e=!1,p=null,g=!1,k=null,t=null,n=!1,m=null;f.extend(f.support,{touch:"ontouchend"in document});f.fn.addTouch=function(){f.support.touch&&this.each(function(a,b){b.addEventListener("touchstart",l,!1);b.addEventListener("touchmove",l,!1);b.addEventListener("touchend",l,!1);b.addEventListener("touchcancel",l,!1)});return this}})(jQuery);