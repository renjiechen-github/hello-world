'use strict';$.extend({plotAnimator:function(m,b,p){function n(){var a=[];e++;switch(q){case "right":a=h.slice(0,e);break;case "left":a=h.slice(-1*e);break;case "center":a=h.slice(h.length/2-e/2,h.length/2+e/2)}if(!r){inV=a[0][0];laV=a[a.length-1][0];for(var a=[],f=0;f<c.length;f++)c[f][0]>=inV&&c[f][0]<=laV&&a.push(c[f])}b[d].data=e<k?a:c;l.setData(b);l.draw();e<k?setTimeout(n,t/k):m.trigger("animatorComplete")}for(var d=0,g=0;g<b.length;g++)b[g].animator&&(d=g);var c=b[d].data,l=function(a){var f=[];f.push([a[0][0],Math.max.apply(Math,a.map(function(a){return a[1]}))]);f.push([a[0][0],null]);f.push([a[0][0],Math.min.apply(Math,a.map(function(a){return a[1]}))]);for(var c=0;c<a.length;c++)f.push([a[c][0],null]);b[d].data=f;return $.plot(m,b,p)}(c),r=b[d].lines?!0:!1,k=b[d].animator&&b[d].animator.steps||135,t=b[d].animator&&b[d].animator.duration||1E3,g=b[d].animator&&b[d].animator.start||0,q=b[d].animator&&b[d].animator.direction||"right",e=0,h=function(){var a=c[0][0],b=c[c.length-1][0],d=(b-a)/k,e=[];e.push(c[0]);var g=1;lPoint=c[0];nPoint=c[g];for(a+=d;a<b+d;a+=d){a>b&&(a=b);for($("#m2").html(a);a>nPoint[0];)lPoint=nPoint,nPoint=c[g++];if(a==nPoint[0])e.push([a,nPoint[1]]),lPoint=nPoint,nPoint=c[g++];else{var h=(nPoint[1]-lPoint[1])/(nPoint[0]-lPoint[0]);curV=h*a+(lPoint[1]-h*lPoint[0]);e.push([a,curV])}}return e}();setTimeout(n,g);return l}});