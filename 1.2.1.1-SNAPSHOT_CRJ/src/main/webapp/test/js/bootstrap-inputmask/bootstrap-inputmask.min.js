'use strict';!function(c){var h=void 0!==window.orientation,k=-1<navigator.userAgent.toLowerCase().indexOf("android"),f=function(a,b){k||(this.$element=c(a),this.options=c.extend({},c.fn.inputmask.defaults,b),this.mask=String(b.mask),this.init(),this.listen(),this.checkVal())};f.prototype={init:function(){var a=this.options.definitions,b=this.mask.length;this.tests=[];this.partialPosition=this.mask.length;this.firstNonMaskPos=null;c.each(this.mask.split(""),c.proxy(function(e,d){"?"==d?(b--,this.partialPosition=e):a[d]?(this.tests.push(new RegExp(a[d])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1)):this.tests.push(null)},this));this.buffer=c.map(this.mask.split(""),c.proxy(function(b,d){if("?"!=b)return a[b]?this.options.placeholder:b},this));this.focusText=this.$element.val();this.$element.data("rawMaskFn",c.proxy(function(){return c.map(this.buffer,function(a,b){return this.tests[b]&&a!=this.options.placeholder?a:null}).join("")},this))},listen:function(){if(!this.$element.attr("readonly")){var a=(navigator.userAgent.match(/msie/i)?"paste":"input")+".mask";this.$element.on("unmask",c.proxy(this.unmask,this)).on("focus.mask",c.proxy(this.focusEvent,this)).on("blur.mask",c.proxy(this.blurEvent,this)).on("keydown.mask",c.proxy(this.keydownEvent,this)).on("keypress.mask",c.proxy(this.keypressEvent,this)).on(a,c.proxy(this.pasteEvent,this))}},caret:function(a,b){if(0!==this.$element.length){if("number"==typeof a)return b="number"==typeof b?b:a,this.$element.each(function(){if(this.setSelectionRange)this.setSelectionRange(a,b);else if(this.createTextRange){var d=this.createTextRange();d.collapse(!0);d.moveEnd("character",b);d.moveStart("character",a);d.select()}});if(this.$element[0].setSelectionRange)a=this.$element[0].selectionStart,b=this.$element[0].selectionEnd;else if(document.selection&&document.selection.createRange){var e=document.selection.createRange();a=0-e.duplicate().moveStart("character",-1E5);b=a+e.text.length}return{begin:a,end:b}}},seekNext:function(a){for(var b=this.mask.length;++a<=b&&!this.tests[a];);return a},seekPrev:function(a){for(;0<=--a&&!this.tests[a];);return a},shiftL:function(a,b){var e=this.mask.length;if(!(0>a)){var d=a;for(b=this.seekNext(b);d<e;d++)if(this.tests[d]){if(b<e&&this.tests[d].test(this.buffer[b]))this.buffer[d]=this.buffer[b],this.buffer[b]=this.options.placeholder;else break;b=this.seekNext(b)}this.writeBuffer();this.caret(Math.max(this.firstNonMaskPos,a))}},shiftR:function(a){for(var b=this.mask.length,e=this.options.placeholder;a<b;a++)if(this.tests[a]){var d=this.seekNext(a),c=this.buffer[a];this.buffer[a]=e;if(d<b&&this.tests[d].test(c))e=c;else break}},unmask:function(){this.$element.unbind(".mask").removeData("inputmask")},focusEvent:function(){this.focusText=this.$element.val();var a=this.mask.length,b=this.checkVal();this.writeBuffer();var e=this,d=function(){b==a?e.caret(0,b):e.caret(b)};c.browser.msie?d():setTimeout(d,0)},blurEvent:function(){this.checkVal();this.$element.val()!=this.focusText&&this.$element.trigger("change")},keydownEvent:function(a){a=a.which;if(8==a||46==a||h&&127==a){var b=this.caret(),e=b.begin,b=b.end;0===b-e&&(e=46!=a?this.seekPrev(e):b=this.seekNext(e-1),b=46==a?this.seekNext(b):b);this.clearBuffer(e,b);this.shiftL(e,b-1);return!1}if(27==a)return this.$element.val(this.focusText),this.caret(0,this.checkVal()),!1},keypressEvent:function(a){var b=this.mask.length,e=a.which,d=this.caret();if(a.ctrlKey||a.altKey||a.metaKey||32>e)return!0;if(e)return 0!==d.end-d.begin&&(this.clearBuffer(d.begin,d.end),this.shiftL(d.begin,d.end-1)),a=this.seekNext(d.begin-1),a<b&&(b=String.fromCharCode(e),this.tests[a].test(b)&&(this.shiftR(a),this.buffer[a]=b,this.writeBuffer(),b=this.seekNext(a),this.caret(b))),!1},pasteEvent:function(){var a=this;setTimeout(function(){a.caret(a.checkVal(!0))},0)},clearBuffer:function(a,b){for(var e=this.mask.length;a<b&&a<e;a++)this.tests[a]&&(this.buffer[a]=this.options.placeholder)},writeBuffer:function(){return this.$element.val(this.buffer.join("")).val()},checkVal:function(a){for(var b=this.mask.length,e=this.$element.val(),d=-1,c=0,g=0;c<b;c++)if(this.tests[c]){for(this.buffer[c]=this.options.placeholder;g++<e.length;){var f=e.charAt(g-1);if(this.tests[c].test(f)){this.buffer[c]=f;d=c;break}}if(g>e.length)break}else this.buffer[c]==e.charAt(g)&&c!=this.partialPosition&&(g++,d=c);if(!a&&d+1<this.partialPosition)this.$element.val(""),this.clearBuffer(0,b);else if(a||d+1>=this.partialPosition)this.writeBuffer(),a||this.$element.val(this.$element.val().substring(0,d+1));return this.partialPosition?c:this.firstNonMaskPos}};c.fn.inputmask=function(a){return this.each(function(){var b=c(this);b.data("inputmask")||b.data("inputmask",new f(this,a))})};c.fn.inputmask.defaults={mask:"",placeholder:"_",definitions:{9:"[0-9]",a:"[A-Za-z]","?":"[A-Za-z0-9]","*":"."}};c.fn.inputmask.Constructor=f;c(document).on("focus.inputmask.data-api","[data-mask]",function(a){var b=c(this);b.data("inputmask")||(a.preventDefault(),b.inputmask(b.data()))})}(window.jQuery);