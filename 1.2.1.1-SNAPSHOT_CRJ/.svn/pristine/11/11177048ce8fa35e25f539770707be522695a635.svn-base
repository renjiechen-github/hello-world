'use strict';function _fnConvertToWidth(a,b){if(!a||null===a||""===a)return 0;b||(b=document.body);var e=document.createElement("div");e.style.width=_fnStringToCss(a);b.appendChild(e);a=e.offsetWidth;b.removeChild(e);return a}function _fnCalculateColumnWidths(a){var b=0,e,d=0,f=a.aoColumns.length,c,g,h=$("th",a.nTHead),l=a.nTable.getAttribute("width");g=a.nTable.parentNode;for(c=0;c<f;c++)a.aoColumns[c].bVisible&&(d++,null!==a.aoColumns[c].sWidth&&(e=_fnConvertToWidth(a.aoColumns[c].sWidthOrig,g),null!==e&&(a.aoColumns[c].sWidth=_fnStringToCss(e)),b++));if(f==h.length&&0===b&&d==f&&""===a.oScroll.sX&&""===a.oScroll.sY)for(c=0;c<a.aoColumns.length;c++)e=$(h[c]).width(),null!==e&&(a.aoColumns[c].sWidth=_fnStringToCss(e));else{b=a.nTable.cloneNode(!1);c=a.nTHead.cloneNode(!0);d=document.createElement("tbody");e=document.createElement("tr");b.removeAttribute("id");b.appendChild(c);null!==a.nTFoot&&(b.appendChild(a.nTFoot.cloneNode(!0)),_fnApplyToChildren(function(a){a.style.width=""},b.getElementsByTagName("tr")));b.appendChild(d);d.appendChild(e);d=$("thead th",b);0===d.length&&(d=$("tbody tr:eq(0)\x3etd",b));h=_fnGetUniqueThs(a,c);for(c=d=0;c<f;c++){var k=a.aoColumns[c];k.bVisible&&null!==k.sWidthOrig&&""!==k.sWidthOrig?h[c-d].style.width=_fnStringToCss(k.sWidthOrig):k.bVisible?h[c-d].style.width="":d++}for(c=0;c<f;c++)a.aoColumns[c].bVisible&&(d=_fnGetWidestNode(a,c),null!==d&&(d=d.cloneNode(!0),""!==a.aoColumns[c].sContentPadding&&(d.innerHTML+=a.aoColumns[c].sContentPadding),e.appendChild(d)));g.appendChild(b);""!==a.oScroll.sX&&""!==a.oScroll.sXInner?b.style.width=_fnStringToCss(a.oScroll.sXInner):""!==a.oScroll.sX?(b.style.width="",$(b).width()<g.offsetWidth&&(b.style.width=_fnStringToCss(g.offsetWidth))):""!==a.oScroll.sY?b.style.width=_fnStringToCss(g.offsetWidth):l&&(b.style.width=_fnStringToCss(l));b.style.visibility="hidden";_fnScrollingWidthAdjust(a,b);f=$("tbody tr:eq(0)",b).children();0===f.length&&(f=_fnGetUniqueThs(a,$("thead",b)[0]));if(""!==a.oScroll.sX){for(c=d=g=0;c<a.aoColumns.length;c++)a.aoColumns[c].bVisible&&(g=null===a.aoColumns[c].sWidthOrig?g+$(f[d]).outerWidth():g+(parseInt(a.aoColumns[c].sWidth.replace("px",""),10)+($(f[d]).outerWidth()-$(f[d]).width())),d++);b.style.width=_fnStringToCss(g);a.nTable.style.width=_fnStringToCss(g)}for(c=d=0;c<a.aoColumns.length;c++)a.aoColumns[c].bVisible&&(g=$(f[d]).width(),null!==g&&0<g&&(a.aoColumns[c].sWidth=_fnStringToCss(g)),d++);f=$(b).css("width");a.nTable.style.width=-1!==f.indexOf("%")?f:_fnStringToCss($(b).outerWidth());b.parentNode.removeChild(b)}l&&(a.nTable.style.width=_fnStringToCss(l))}function _fnScrollingWidthAdjust(a,b){""===a.oScroll.sX&&""!==a.oScroll.sY?($(b).width(),b.style.width=_fnStringToCss($(b).outerWidth()-a.oScroll.iBarWidth)):""!==a.oScroll.sX&&(b.style.width=_fnStringToCss($(b).outerWidth()))}function _fnGetWidestNode(a,b){var e=_fnGetMaxLenString(a,b);if(0>e)return null;if(null===a.aoData[e].nTr){var d=document.createElement("td");d.innerHTML=_fnGetCellData(a,e,b,"");return d}return _fnGetTdNodes(a,e)[b]}function _fnGetMaxLenString(a,b){for(var e=-1,d=-1,f=0;f<a.aoData.length;f++){var c=_fnGetCellData(a,f,b,"display")+"",c=c.replace(/<.*?>/g,"");c.length>e&&(e=c.length,d=f)}return d}function _fnStringToCss(a){if(null===a)return"0px";if("number"==typeof a)return 0>a?"0px":a+"px";var b=a.charCodeAt(a.length-1);return 48>b||57<b?a:a+"px"}function _fnScrollBarWidth(){var a=document.createElement("p"),b=a.style;b.width="100%";b.height="200px";b.padding="0px";var e=document.createElement("div"),b=e.style;b.position="absolute";b.top="0px";b.left="0px";b.visibility="hidden";b.width="200px";b.height="150px";b.padding="0px";b.overflow="hidden";e.appendChild(a);document.body.appendChild(e);b=a.offsetWidth;e.style.overflow="scroll";a=a.offsetWidth;b==a&&(a=e.clientWidth);document.body.removeChild(e);return b-a};