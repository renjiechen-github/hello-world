/*
 Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 @author Robert Fleischmann <rendro87@gmail.com> (http://robert-fleischmann.de)
 @version 2.1.3
*/
'use strict';(function(g,h){"object"===typeof exports?module.exports=h(require("jquery")):"function"===typeof define&&define.amd?define("EasyPieChart",["jquery"],h):h(g.jQuery)})(this,function(g){var h=function(d,a){var f,b=document.createElement("canvas");"undefined"!==typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(b);var c=b.getContext("2d");b.width=b.height=a.size;d.appendChild(b);var k=1;1<window.devicePixelRatio&&(k=window.devicePixelRatio,b.style.width=b.style.height=[a.size,"px"].join(""),b.width=b.height=a.size*k,c.scale(k,k));c.translate(a.size/2,a.size/2);c.rotate((-.5+a.rotate/180)*Math.PI);var e=(a.size-a.lineWidth)/2;a.scaleColor&&a.scaleLength&&(e-=a.scaleLength+2);Date.now=Date.now||function(){return+new Date};var l=function(a,b,d){d=Math.min(Math.max(-1,d||0),1);var m=0>=d?!0:!1;c.beginPath();c.arc(0,0,e,0,2*Math.PI*d,m);c.strokeStyle=a;c.lineWidth=b;c.stroke()},g=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}(),h=function(){if(a.scaleColor){var b,e,d;c.lineWidth=1;c.fillStyle=a.scaleColor;c.save();for(d=24;0<d;--d)0===d%6?(e=a.scaleLength,b=0):(e=.6*a.scaleLength,b=a.scaleLength-e),c.fillRect(-a.size/2+b,0,e,1),c.rotate(Math.PI/12);c.restore()}a.trackColor&&l(a.trackColor,a.lineWidth,1)};this.clear=function(){c.clearRect(a.size/-2,a.size/-2,a.size,a.size)};this.draw=function(b){a.scaleColor||a.trackColor?c.getImageData&&c.putImageData?f?c.putImageData(f,0,0):(h(),f=c.getImageData(0,0,a.size*k,a.size*k)):(this.clear(),h()):this.clear();c.lineCap=a.lineCap;var e;e="function"===typeof a.barColor?a.barColor(b):a.barColor;l(e,a.lineWidth,b/100)}.bind(this);this.animate=function(b,e){var c=Date.now();a.onStart(b,e);var d=function(){var l=Math.min(Date.now()-c,a.animate),f=a.easing(this,l,b,e-b,a.animate);this.draw(f);a.onStep(b,e,f);if(l>=a.animate)a.onStop(b,e);else g(d)}.bind(this);g(d)}.bind(this)},n=function(d,a){var f={barColor:"#43886e",trackColor:"#a3e2ca",scaleLength:5,lineCap:"round",lineWidth:5,size:85,rotate:0,animate:1E3,easing:function(a,b,c,d,f){b/=f/2;return 1>b?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},onStart:function(a,b){},onStep:function(a,b,c){},onStop:function(a,b){}};if("undefined"!==typeof h)f.renderer=h;else if("undefined"!==typeof SVGRenderer)f.renderer=SVGRenderer;else throw Error("Please load either the SVG- or the CanvasRenderer");var b={},c=0,g=function(){this.el=d;this.options=b;for(var e in f)f.hasOwnProperty(e)&&(b[e]=a&&"undefined"!==typeof a[e]?a[e]:f[e],"function"===typeof b[e]&&(b[e]=b[e].bind(this)));"string"===typeof b.easing&&"undefined"!==typeof jQuery&&jQuery.isFunction(jQuery.easing[b.easing])?b.easing=jQuery.easing[b.easing]:b.easing=f.easing;this.renderer=new b.renderer(d,b);this.renderer.draw(c);d.dataset&&d.dataset.percent?this.update(parseFloat(d.dataset.percent)):d.getAttribute&&d.getAttribute("data-percent")&&this.update(parseFloat(d.getAttribute("data-percent")))}.bind(this);this.update=function(a){a=parseFloat(a);b.animate?this.renderer.animate(c,a):this.renderer.draw(a);c=a;return this}.bind(this);g()};g.fn.easyPieChart=function(d){return this.each(function(){var a;g.data(this,"easyPieChart")||(a=g.extend({},d,g(this).data()),g.data(this,"easyPieChart",new n(this,a)))})}});