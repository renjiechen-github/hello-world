'use strict';(function(c,W,da,R){var ea=0,N=function(){var c=R.userAgent,a=/msie\s\d+/i;return 0<c.search(a)&&(c=a.exec(c).toString(),c=c.split(" ")[1],9>c)?!0:!1}(),G;try{W.createEvent("TouchEvent"),G=!0}catch(x){G=!1}var M={init:function(x){return this.each(function(){var a=c.extend({min:10,max:100,from:null,to:null,type:"single",step:1,prefix:"",postfix:"",hasGrid:!1,hideMinMax:!1,hideFromTo:!1,prettify:!0,onChange:null,onLoad:null,onFinish:null},x),d=c(this),v=this;if(!d.data("isActive")){d.data("isActive",!0);this.pluginCount=ea+=1;d.prop("value")&&(a.min=parseInt(d.prop("value").split(";")[0],10),a.max=parseInt(d.prop("value").split(";")[1],10));"number"!==typeof a.from&&(a.from=a.min);"number"!==typeof a.to&&(a.to=a.max);"number"===typeof d.data("from")&&(a.from=parseFloat(d.data("from")));"number"===typeof d.data("to")&&(a.to=parseFloat(d.data("to")));d.data("step")&&(a.step=parseFloat(d.data("step")));d.data("type")&&(a.type=d.data("type"));d.data("prefix")&&(a.prefix=d.data("prefix"));d.data("postfix")&&(a.postfix=d.data("postfix"));d.data("hasgrid")&&(a.hasGrid=d.data("hasgrid"));d.data("hideminmax")&&(a.hideMinMax=d.data("hideminmax"));d.data("hidefromto")&&(a.hideFromTo=d.data("hidefromto"));d.data("prettify")&&(a.prettify=d.data("prettify"));a.from<a.min&&(a.from=a.min);a.to>a.max&&(a.to=a.max);"double"===a.type&&(a.from>a.to&&(a.from=a.to),a.to<a.from&&(a.to=a.from));var w=function(b){b=b.toString();a.prettify&&(b=b.replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1 "));return b},M='\x3cspan class\x3d"irs" id\x3d"irs-'+this.pluginCount+'"\x3e\x3c/span\x3e';d[0].style.display="none";d.before(M);var y=c("#irs-"+this.pluginCount),C=c(W.body),H=c(da),e,D,E,z,A,q,r,g,m,t,S,X,p=!1,u=!1,O=!0,h={},T=0,I=0,J=0,l=0,B=0,K=0,U=0,P=0,Q=0,Y=0,n=0;parseInt(a.step,10)!==parseFloat(a.step)&&(n=a.step.toString().split(".")[1],n=Math.pow(10,n.length));this.updateData=function(b){O=!0;a=c.extend(a,b);y.find("*").off();H.off("mouseup.irs"+v.pluginCount);C.off("mouseup.irs"+v.pluginCount);C.off("mousemove.irs"+v.pluginCount);y.html("");Z()};this.removeSlider=function(){y.find("*").off();H.off("mouseup.irs"+v.pluginCount);C.off("mouseup.irs"+v.pluginCount);C.off("mousemove.irs"+v.pluginCount);y.html("").remove();d.data("isActive",!1);d.show()};var Z=function(){y.html('\x3cspan class\x3d"irs"\x3e\x3cspan class\x3d"irs-line"\x3e\x3cspan class\x3d"irs-line-left"\x3e\x3c/span\x3e\x3cspan class\x3d"irs-line-mid"\x3e\x3c/span\x3e\x3cspan class\x3d"irs-line-right"\x3e\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"irs-min"\x3e0\x3c/span\x3e\x3cspan class\x3d"irs-max"\x3e1\x3c/span\x3e\x3cspan class\x3d"irs-from"\x3e0\x3c/span\x3e\x3cspan class\x3d"irs-to"\x3e0\x3c/span\x3e\x3cspan class\x3d"irs-single"\x3e0\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"irs-grid"\x3e\x3c/span\x3e');e=y.find(".irs");D=e.find(".irs-min");E=e.find(".irs-max");z=e.find(".irs-from");A=e.find(".irs-to");q=e.find(".irs-single");X=y.find(".irs-grid");a.hideMinMax&&(D[0].style.display="none",E[0].style.display="none",J=I=0);a.hideFromTo&&(z[0].style.display="none",A[0].style.display="none",q[0].style.display="none");a.hideMinMax||(D.html(a.prefix+w(a.min)+a.postfix),E.html(a.prefix+w(a.max)+a.postfix),I=D.outerWidth(),J=E.outerWidth());if("single"===a.type){if(e.append('\x3cspan class\x3d"irs-slider single"\x3e\x3c/span\x3e'),r=e.find(".single"),r.on("mousedown",function(a){a.preventDefault();a.stopPropagation();F(a,c(this),null);u=p=!0;N&&c("*").prop("unselectable",!0)}),G)r.on("touchstart",function(a){a.preventDefault();a.stopPropagation();F(a.originalEvent.touches[0],c(this),null);u=p=!0})}else"double"===a.type&&(e.append('\x3cspan class\x3d"irs-diapason"\x3e\x3c/span\x3e\x3cspan class\x3d"irs-slider from"\x3e\x3c/span\x3e\x3cspan class\x3d"irs-slider to"\x3e\x3c/span\x3e'),g=e.find(".from"),m=e.find(".to"),S=e.find(".irs-diapason"),L(),g.on("mousedown",function(a){a.preventDefault();a.stopPropagation();c(this).addClass("last");m.removeClass("last");F(a,c(this),"from");u=p=!0;N&&c("*").prop("unselectable",!0)}),m.on("mousedown",function(a){a.preventDefault();a.stopPropagation();c(this).addClass("last");g.removeClass("last");F(a,c(this),"to");u=p=!0;N&&c("*").prop("unselectable",!0)}),G&&(g.on("touchstart",function(a){a.preventDefault();a.stopPropagation();c(this).addClass("last");m.removeClass("last");F(a.originalEvent.touches[0],c(this),"from");u=p=!0}),m.on("touchstart",function(a){a.preventDefault();a.stopPropagation();c(this).addClass("last");g.removeClass("last");F(a.originalEvent.touches[0],c(this),"to");u=p=!0})),a.to===a.max&&g.addClass("last"));var b=function(){p&&(p=u=!1,t.removeAttr("id"),t=null,"double"===a.type&&L(),V(),N&&c("*").prop("unselectable",!1))};C.on("mouseup.irs"+v.pluginCount,function(){b()});H.on("mouseup.irs"+v.pluginCount,function(){b()});C.on("mousemove.irs"+v.pluginCount,function(a){p&&(T=a.pageX,aa())});G&&(H.on("touchend",function(){p&&(p=u=!1,t.removeAttr("id"),t=null,"double"===a.type&&L(),V())}),H.on("touchmove",function(a){p&&(T=a.originalEvent.touches[0].pageX,aa())}));ba();R();a.hasGrid&&fa()},ba=function(){l=e.width();K=r?r.width():g.width();B=l-K},F=function(b,f,c){ba();O=!1;t=f;t.attr("id","irs-active-slider");f=t.offset().left;Y=f+(b.pageX-f)-t.position().left;"single"===a.type?U=e.width()-K:"double"===a.type&&("from"===c?(P=0,Q=parseInt(m.css("left"),10)):(P=parseInt(g.css("left"),10),Q=e.width()-K))},L=function(){var a=g.width(),f=c.data(g[0],"x")||parseInt(g[0].style.left,10)||g.position().left,d=c.data(m[0],"x")||parseInt(m[0].style.left,10)||m.position().left;S[0].style.left=f+a/2+"px";S[0].style.width=d-f+"px"},aa=function(){var b=T-Y;"single"===a.type?(0>b&&(b=0),b>U&&(b=U)):"double"===a.type&&(b<P&&(b=P),b>Q&&(b=Q),L());c.data(t[0],"x",b);V();t[0].style.left=Math.round(b)+"px"},V=function(){var b={fromNumber:0,toNumber:0,fromPers:0,toPers:0,fromX:0,toX:0},f=a.max-a.min,d;"single"===a.type?(b.fromX=c.data(r[0],"x")||parseInt(r[0].style.left,10)||r.position().left,b.fromPers=b.fromX/B*100,d=f/100*b.fromPers+parseInt(a.min,10),b.fromNumber=Math.round(d/a.step)*a.step,n&&(b.fromNumber=parseInt(b.fromNumber*n,10)/n)):"double"===a.type&&(b.fromX=c.data(g[0],"x")||parseInt(g[0].style.left,10)||g.position().left,b.fromPers=b.fromX/B*100,d=f/100*b.fromPers+parseInt(a.min,10),b.fromNumber=Math.round(d/a.step)*a.step,b.toX=c.data(m[0],"x")||parseInt(m[0].style.left,10)||m.position().left,b.toPers=b.toX/B*100,f=f/100*b.toPers+parseInt(a.min,10),b.toNumber=Math.round(f/a.step)*a.step,n&&(b.fromNumber=parseInt(b.fromNumber*n,10)/n,b.toNumber=parseInt(b.toNumber*n,10)/n));h=b;ca()},R=function(){var b={fromNumber:a.from,toNumber:a.to,fromPers:0,toPers:0,fromX:0,fromX_pure:0,toX:0,toX_pure:0},f=a.max-a.min;"single"===a.type?(b.fromPers=(b.fromNumber-a.min)/f*100,b.fromX_pure=B/100*b.fromPers,b.fromX=Math.round(b.fromX_pure),r[0].style.left=b.fromX+"px",c.data(r[0],"x",b.fromX_pure)):"double"===a.type&&(b.fromPers=(b.fromNumber-a.min)/f*100,b.fromX_pure=B/100*b.fromPers,b.fromX=Math.round(b.fromX_pure),g[0].style.left=b.fromX+"px",c.data(g[0],"x",b.fromX_pure),b.toPers=(b.toNumber-a.min)/f*100,b.toX_pure=B/100*b.toPers,b.toX=Math.round(b.toX_pure),m[0].style.left=b.toX+"px",c.data(m[0],"x",b.toX_pure),L());h=b;ca()},ca=function(){var b,f,c,g,e,k;k=K/2;"single"===a.type?(a.hideText||(z[0].style.display="none",A[0].style.display="none",c=a.prefix+w(h.fromNumber)+a.postfix,q.html(c),e=q.outerWidth(),k=h.fromX-e/2+k,0>k&&(k=0),k>l-e&&(k=l-e),q[0].style.left=k+"px",a.hideMinMax||a.hideFromTo||(D[0].style.display=k<I?"none":"block",E[0].style.display=k+e>l-J?"none":"block")),d.attr("value",parseInt(h.fromNumber,10))):"double"===a.type&&(a.hideText||(b=a.prefix+w(h.fromNumber)+a.postfix,f=a.prefix+w(h.toNumber)+a.postfix,c=h.fromNumber!==h.toNumber?a.prefix+w(h.fromNumber)+" \u2014 "+a.prefix+w(h.toNumber)+a.postfix:a.prefix+w(h.fromNumber)+a.postfix,z.html(b),A.html(f),q.html(c),b=z.outerWidth(),f=h.fromX-b/2+k,0>f&&(f=0),f>l-b&&(f=l-b),z[0].style.left=f+"px",c=A.outerWidth(),g=h.toX-c/2+k,0>g&&(g=0),g>l-c&&(g=l-c),A[0].style.left=g+"px",e=q.outerWidth(),k=h.fromX+(h.toX-h.fromX)/2-e/2+k,0>k&&(k=0),k>l-e&&(k=l-e),q[0].style.left=k+"px",f+b<g?(q[0].style.display="none",z[0].style.display="block",A[0].style.display="block"):(q[0].style.display="block",z[0].style.display="none",A[0].style.display="none"),a.hideMinMax||a.hideFromTo||(D[0].style.display=k<I||f<I?"none":"block",E[0].style.display=k+e>l-J||g+c>l-J?"none":"block")),d.attr("value",parseInt(h.fromNumber,10)+";"+parseInt(h.toNumber,10)));"function"===typeof a.onChange&&a.onChange.call(this,h);"function"!==typeof a.onFinish||u||O||a.onFinish.call(this,h);"function"===typeof a.onLoad&&!u&&O&&a.onLoad.call(this,h)},fa=function(){y.addClass("irs-with-grid");var b,c,d,e="";for(b=0;20>=b;b+=1)d=Math.floor(l/20*b),d>=l&&(d=l-1),e+='\x3cspan class\x3d"irs-grid-pol small" style\x3d"left: '+d+'px;"\x3e\x3c/span\x3e';for(b=0;4>=b;b+=1)d=Math.floor(l/4*b),d>=l&&(d=l-1),e+='\x3cspan class\x3d"irs-grid-pol" style\x3d"left: '+d+'px;"\x3e\x3c/span\x3e',n?(c=a.min+(a.max-a.min)/4*b,c=c/a.step*a.step,c=parseInt(c*n,10)/n):(c=Math.round(a.min+(a.max-a.min)/4*b),c=Math.round(c/a.step)*a.step,c=w(c)),0===b?e+='\x3cspan class\x3d"irs-grid-text" style\x3d"left: '+d+'px; text-align: left;"\x3e'+c+"\x3c/span\x3e":4===b?(d-=100,e+='\x3cspan class\x3d"irs-grid-text" style\x3d"left: '+d+'px; text-align: right;"\x3e'+c+"\x3c/span\x3e"):(d-=50,e+='\x3cspan class\x3d"irs-grid-text" style\x3d"left: '+d+'px;"\x3e'+c+"\x3c/span\x3e");X.html(e)};Z()}})},update:function(c){return this.each(function(){this.updateData(c)})},remove:function(){return this.each(function(){this.removeSlider()})}};c.fn.ionRangeSlider=function(x){if(M[x])return M[x].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof x&&x)c.error("Method "+x+" does not exist for jQuery.ionRangeSlider");else return M.init.apply(this,arguments)}})(jQuery,document,window,navigator);