/*

 FullCalendar v1.5.4
 http://arshaw.com/fullcalendar/

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Tue Sep 4 23:38:33 2012 -0700

*/
'use strict';(function(k,y){function ob(a,c,b){function d(){setTimeout(function(){!u.start&&0!==k("body")[0].offsetWidth&&m()},0)}function f(a){if(!u||a!=u.name){I++;A();var c=u,b;c?((c.beforeHide||Ta)(),za(H,H.height()),c.element.hide()):za(H,1);H.css("overflow","hidden");(u=U[a])?u.element.show():u=U[a]=new ea[a](b=Y=k("\x3cdiv class\x3d'fc-view fc-view-"+a+"' style\x3d'position:absolute'/\x3e").appendTo(H),t);c&&z.deactivateButton(c.name);z.activateButton(a);m();H.css("overflow","");c&&za(H,1);b||(u.afterShow||Ta)();I--}}function m(b){if(0!==r.offsetWidth){I++;A();aa===y&&g();var x=!1;!u.start||b||F<u.start||F>=u.end?(u.render(F,b||0),n(!0),x=!0):u.sizeDirty?(u.clearEvents(),n(),x=!0):u.eventsDirty&&(u.clearEvents(),x=!0);u.sizeDirty=!1;u.eventsDirty=!1;b=x;!c.lazyFetching||P(u.visStart,u.visEnd)?C():b&&l();T=a.outerWidth();z.updateTitle(u.title);b=new Date;b>=u.start&&b<u.end?z.disableButton("today"):z.enableButton("today");I--;u.trigger("viewDisplay",r)}}function h(){e();0!==r.offsetWidth&&(g(),n(),A(),u.clearEvents(),u.renderEvents(V),u.sizeDirty=!1)}function e(){k.each(U,function(a,c){c.sizeDirty=!0})}function g(){aa=c.contentHeight?c.contentHeight:c.height?c.height-(x?x.height():0)-sa(H):Math.round(H.width()/Math.max(c.aspectRatio,.5))}function n(a){I++;u.setHeight(aa,a);Y&&(Y.css("position","relative"),Y=null);u.setWidth(H.width(),a);I--}function w(){if(!I)if(u.start){var c=++X;setTimeout(function(){c!=X||I||0===r.offsetWidth||T==(T=a.outerWidth())||(I++,h(),u.trigger("windowResize",r),I--)},200)}else d()}function C(){p(u.visStart,u.visEnd)}function l(a){ta();0!==r.offsetWidth&&(u.clearEvents(),u.renderEvents(V,a),u.eventsDirty=!1)}function ta(){k.each(U,function(a,c){c.eventsDirty=!0})}function A(){u&&u.unselect()}var t=this;t.options=c;t.render=function(b){H?(g(),e(),ta(),m(b)):(a.addClass("fc"),c.isRTL&&a.addClass("fc-rtl"),c.theme&&a.addClass("ui-widget"),H=k("\x3cdiv class\x3d'fc-content' style\x3d'position:relative'/\x3e").prependTo(a),z=new pb(t,c),(x=z.render())&&a.prepend(x),f(c.defaultView),k(window).resize(w),0!==k("body")[0].offsetWidth||d())};t.destroy=function(){k(window).unbind("resize",w);z.destroy();H.remove();a.removeClass("fc fc-rtl ui-widget")};t.refetchEvents=C;t.reportEvents=function(a){V=a;l()};t.reportEventChange=function(a){l(a)};t.rerenderEvents=l;t.changeView=f;t.select=function(a,c,b){u.select(a,c,b===y?!0:b)};t.unselect=A;t.prev=function(){m(-1)};t.next=function(){m(1)};t.prevYear=function(){Da(F,-1);m()};t.nextYear=function(){Da(F,1);m()};t.today=function(){F=new Date;m()};t.gotoDate=function(a,c,b){a instanceof Date?F=q(a):Ua(F,a,c,b);m()};t.incrementDate=function(a,c,b){a!==y&&Da(F,a);c!==y&&Ea(F,c);b!==y&&v(F,b);m()};t.formatDate=function(a,b){return fa(a,b,c)};t.formatDates=function(a,b,x){return Fa(a,b,x,c)};t.getDate=function(){return q(F)};t.getView=function(){return u};t.option=function(a,b){if(b===y)return c[a];if("height"==a||"contentHeight"==a||"aspectRatio"==a)c[a]=b,h()};t.trigger=function(a,b){if(c[a])return c[a].apply(b||r,Array.prototype.slice.call(arguments,2))};qb.call(t,c,b);var P=t.isFetchNeeded,p=t.fetchEvents,r=a[0],z,x,H,u,U={},T,aa,Y,X=0,I=0,F=new Date,V=[],L;Ua(F,c.year,c.month,c.date);c.droppable&&k(document).bind("dragstart",function(a,b){var x=a.target,d=k(x);if(!d.parents(".fc").length){var f=c.dropAccept;if(k.isFunction(f)?f.call(x,d):d.is(f))L=x,u.dragStart(L,a,b)}}).bind("dragstop",function(a,b){L&&(u.dragStop(L,a,b),L=null)})}function pb(a,c){function b(b){var d=k("\x3ctd class\x3d'fc-header-"+b+"'/\x3e");(b=c.header[b])&&k.each(b.split(" "),function(b){0<b&&d.append("\x3cspan class\x3d'fc-header-space'/\x3e");var e;k.each(this.split(","),function(b,h){if("title"==h)d.append("\x3cspan class\x3d'fc-header-title'\x3e\x3ch2\x3e\x26nbsp;\x3c/h2\x3e\x3c/span\x3e"),e&&e.addClass(f+"-corner-right"),e=null;else{var g;a[h]?g=a[h]:ea[h]&&(g=function(){n.removeClass(f+"-state-hover");a.changeView(h)});if(g){b=c.theme?Ga(c.buttonIcons,h):null;var m=Ga(c.buttonText,h),n=k("\x3cspan class\x3d'fc-button fc-button-"+h+" "+f+"-state-default'\x3e\x3cspan class\x3d'fc-button-inner'\x3e\x3cspan class\x3d'fc-button-content'\x3e"+(b?"\x3cspan class\x3d'fc-icon-wrap'\x3e\x3cspan class\x3d'ui-icon ui-icon-"+b+"'/\x3e\x3c/span\x3e":m)+"\x3c/span\x3e\x3cspan class\x3d'fc-button-effect'\x3e\x3cspan\x3e\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e\x3c/span\x3e");n&&(n.click(function(){n.hasClass(f+"-state-disabled")||g()}).mousedown(function(){n.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){n.removeClass(f+"-state-down")}).hover(function(){n.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")},function(){n.removeClass(f+"-state-hover").removeClass(f+"-state-down")}).appendTo(d),e||n.addClass(f+"-corner-left"),e=n)}}});e&&e.addClass(f+"-corner-right")});return d}this.render=function(){f=c.theme?"ui":"fc";if(c.header)return d=k("\x3ctable class\x3d'fc-header' style\x3d'width:100%'/\x3e").append(k("\x3ctr/\x3e").append(b("left")).append(b("center")).append(b("right")))};this.destroy=function(){d.remove()};this.updateTitle=function(a){d.find("h2").html(a)};this.activateButton=function(a){d.find("span.fc-button-"+a).addClass(f+"-state-active")};this.deactivateButton=function(a){d.find("span.fc-button-"+a).removeClass(f+"-state-active")};this.disableButton=function(a){d.find("span.fc-button-"+a).addClass(f+"-state-disabled")};this.enableButton=function(a){d.find("span.fc-button-"+a).removeClass(f+"-state-disabled")};var d=k([]),f}function qb(a,c){function b(a,b){d(a,function(c){if(b==t){if(c){for(var x=0;x<c.length;x++)c[x].source=a,m(c[x]);r=r.concat(c)}P--;P||w(r)}})}function d(b,c){var x,f=N.sourceFetchers,e;for(x=0;x<f.length;x++){e=f[x](b,v,A,c);if(!0===e)return;if("object"==typeof e){d(e,c);return}}if(x=b.events)k.isFunction(x)?(p++||g("loading",null,!0),x(q(v),q(A),function(a){c(a);--p||g("loading",null,!1)})):k.isArray(x)?c(x):c();else if(b.url){var h=b.success,r=b.error,H=b.complete;x=k.extend({},b.data||{});f=ia(b.startParam,a.startParam);e=ia(b.endParam,a.endParam);f&&(x[f]=Math.round(+v/1E3));e&&(x[e]=Math.round(+A/1E3));p++||g("loading",null,!0);k.ajax(k.extend({},rb,b,{data:x,success:function(a){a=a||[];var b=Aa(h,this,arguments);k.isArray(b)&&(a=b);c(a)},error:function(){Aa(r,this,arguments);c()},complete:function(){Aa(H,this,arguments);--p||g("loading",null,!1)}}))}else c()}function f(a){k.isFunction(a)||k.isArray(a)?a={events:a}:"string"==typeof a&&(a={url:a});if("object"==typeof a){var b=a;b.className?"string"==typeof b.className&&(b.className=b.className.split(/\s+/)):b.className=[];for(var c=N.sourceNormalizers,x=0;x<c.length;x++)c[x](b);l.push(a);return a}}function m(b){var c=b.source||{},d=ia(c.ignoreTimezone,a.ignoreTimezone);b._id=b._id||(b.id===y?"_fc"+sb++:b.id+"");b.date&&(b.start||(b.start=b.date),delete b.date);b._start=q(b.start=Ha(b.start,d));b.end=Ha(b.end,d);b.end&&b.end<=b.start&&(b.end=null);b._end=b.end?q(b.end):null;b.allDay===y&&(b.allDay=ia(c.allDayDefault,a.allDayDefault));b.className?"string"==typeof b.className&&(b.className=b.className.split(/\s+/)):b.className=[]}function h(a,b){return a&&b&&e(a)==e(b)}function e(a){return("object"==typeof a?a.events||a.url:"")||a}this.isFetchNeeded=function(a,b){return!v||a<v||b>A};this.fetchEvents=function(a,c){v=a;A=c;r=[];a=++t;P=c=l.length;for(var d=0;d<c;d++)b(l[d],a)};this.addEventSource=function(a){if(a=f(a))P++,b(a,t)};this.removeEventSource=function(a){l=k.grep(l,function(b){return!h(b,a)});r=k.grep(r,function(b){return!h(b.source,a)});w(r)};this.updateEvent=function(a){var b,c=r.length,d,f=n().defaultEventEnd,e=a.start-a._start,h=a.end?a.end-(a._end||f(a)):0;for(b=0;b<c;b++)d=r[b],d._id==a._id&&d!=a&&(d.start=new Date(+d.start+e),d.end=a.end?d.end?new Date(+d.end+h):new Date(+f(d)+h):null,d.title=a.title,d.url=a.url,d.allDay=a.allDay,d.className=a.className,d.editable=a.editable,d.color=a.color,d.backgroudColor=a.backgroudColor,d.borderColor=a.borderColor,d.textColor=a.textColor,m(d));m(a);w(r)};this.renderEvent=function(a,b){m(a);a.source||(b&&(C.events.push(a),a.source=C),r.push(a));w(r)};this.removeEvents=function(a){if(a){if(!k.isFunction(a)){var b=a+"";a=function(a){return a._id==b}}r=k.grep(r,a,!0);for(c=0;c<l.length;c++)k.isArray(l[c].events)&&(l[c].events=k.grep(l[c].events,a,!0))}else{r=[];for(var c=0;c<l.length;c++)k.isArray(l[c].events)&&(l[c].events=[])}w(r)};this.clientEvents=function(a){return k.isFunction(a)?k.grep(r,a):a?(a+="",k.grep(r,function(b){return b._id==a})):r};this.normalizeEvent=m;for(var g=this.trigger,n=this.getView,w=this.reportEvents,C={events:[]},l=[C],v,A,t=0,P=0,p=0,r=[],z=0;z<c.length;z++)f(c[z])}function Da(a,c,b){a.setFullYear(a.getFullYear()+c);b||la(a);return a}function Ea(a,c,b){if(+a){c=a.getMonth()+c;var d=q(a);d.setDate(1);d.setMonth(c);a.setMonth(c);for(b||la(a);a.getMonth()!=d.getMonth();)a.setDate(a.getDate()+(a<d?1:-1))}return a}function v(a,c,b){if(+a){c=a.getDate()+c;var d=q(a);d.setHours(9);d.setDate(c);a.setDate(c);b||la(a);Ia(a,d)}return a}function Ia(a,c){if(+a)for(;a.getDate()!=c.getDate();)a.setTime(+a+(a<c?1:-1)*tb)}function J(a,c){a.setMinutes(a.getMinutes()+c);return a}function la(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function q(a,c){return c?la(new Date(+a)):new Date(+a)}function Va(){var a=0,c;do c=new Date(1970,a++,1);while(c.getHours());return c}function W(a,c,b){for(c=c||1;!a.getDay()||b&&1==a.getDay()||!b&&6==a.getDay();)v(a,c);return a}function ba(a,c){return Math.round((q(a,!0)-q(c,!0))/864E5)}function Ua(a,c,b,d){c!==y&&c!=a.getFullYear()&&(a.setDate(1),a.setMonth(0),a.setFullYear(c));b!==y&&b!=a.getMonth()&&(a.setDate(1),a.setMonth(b));d!==y&&a.setDate(d)}function Ha(a,c){if("object"==typeof a)return a;if("number"==typeof a)return new Date(1E3*a);if("string"==typeof a){if(a.match(/^\d+(\.\d+)?$/))return new Date(1E3*parseFloat(a));c===y&&(c=!0);return Wa(a,c)||(a?new Date(a):null)}return null}function Wa(a,c){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var b=new Date(a[1],0,1);c||!a[13]?(c=new Date(a[1],0,1,9,0),a[3]&&(b.setMonth(a[3]-1),c.setMonth(a[3]-1)),a[5]&&(b.setDate(a[5]),c.setDate(a[5])),Ia(b,c),a[7]&&b.setHours(a[7]),a[8]&&b.setMinutes(a[8]),a[10]&&b.setSeconds(a[10]),a[12]&&b.setMilliseconds(1E3*Number("0."+a[12])),Ia(b,c)):(b.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1),b.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?1E3*Number("0."+a[12]):0),a[14]&&(c=60*Number(a[16])+(a[18]?Number(a[18]):0),c*="-"==a[15]?1:-1,b=new Date(+b+6E4*c)));return b}function Ja(a){if("number"==typeof a)return 60*a;if("object"==typeof a)return 60*a.getHours()+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var c=parseInt(a[1],10);a[3]&&(c%=12,"p"==a[3].toLowerCase().charAt(0)&&(c+=12));return 60*c+(a[2]?parseInt(a[2],10):0)}}function fa(a,c,b){return Fa(a,null,c,b)}function Fa(a,c,b,d){d=d||ua;var f=a,m=c,h,e=b.length,g,n,k,q="";for(h=0;h<e;h++)if(g=b.charAt(h),"'"==g)for(n=h+1;n<e;n++){if("'"==b.charAt(n)){f&&(q=n==h+1?q+"'":q+b.substring(h+1,n),h=n);break}}else if("("==g)for(n=h+1;n<e;n++){if(")"==b.charAt(n)){h=fa(f,b.substring(h+1,n),d);parseInt(h.replace(/\D/,""),10)&&(q+=h);h=n;break}}else if("["==g)for(n=h+1;n<e;n++){if("]"==b.charAt(n)){g=b.substring(h+1,n);h=fa(f,g,d);h!=fa(m,g,d)&&(q+=h);h=n;break}}else if("{"==g)f=c,m=a;else if("}"==g)f=a,m=c;else{for(n=e;n>h;n--)if(k=ub[b.substring(h,n)]){f&&(q+=k(f,d));h=n-1;break}n==h&&f&&(q+=g)}return q}function va(a){if(a.end){var c=a.end;a=a.allDay;c=q(c);return a||c.getHours()||c.getMinutes()?v(c,1):la(c)}return v(q(a.start),1)}function vb(a,c){return 100*(c.msLength-a.msLength)+(a.event.start-c.event.start)}function Ka(a,c,b,d){var f=[],m,h=a.length,e,g,n,k,v;for(m=0;m<h;m++)e=a[m],g=e.start,n=c[m],n>b&&g<d&&(g<b?(g=q(b),k=!1):k=!0,n>d?(n=q(d),v=!1):v=!0,f.push({event:e,start:g,end:n,isStart:k,isEnd:v,msLength:n-g}));return f.sort(vb)}function La(a){var c=[],b,d=a.length,f,k,h,e;for(b=0;b<d;b++){f=a[b];for(k=0;;){h=!1;if(c[k])for(e=0;e<c[k].length;e++){var g=c[k][e];if(g.end>f.start&&g.start<f.end){h=!0;break}}if(h)k++;else break}c[k]?c[k].push(f):c[k]=[f]}return c}function Xa(a,c,b){a.unbind("mouseover").mouseover(function(a){for(var d=a.target,m;d!=this;)m=d,d=d.parentNode;(d=m._fci)!==y&&(m._fci=y,m=c[d],b(m.event,m.element,m),k(a.target).trigger(a));a.stopPropagation()})}function wa(a,c,b){for(var d=0,f;d<a.length;d++)f=k(a[d]),f.width(Math.max(0,c-Ma(f,b)))}function Ya(a,c,b){for(var d=0,f;d<a.length;d++)f=k(a[d]),f.height(Math.max(0,c-sa(f,b)))}function Ma(a,c){var b=(parseFloat(k.css(a[0],"paddingLeft",!0))||0)+(parseFloat(k.css(a[0],"paddingRight",!0))||0),d;d=(parseFloat(k.css(a[0],"borderLeftWidth",!0))||0)+(parseFloat(k.css(a[0],"borderRightWidth",!0))||0);b+=d;a=c?(parseFloat(k.css(a[0],"marginLeft",!0))||0)+(parseFloat(k.css(a[0],"marginRight",!0))||0):0;return b+a}function sa(a,c){var b=(parseFloat(k.css(a[0],"paddingTop",!0))||0)+(parseFloat(k.css(a[0],"paddingBottom",!0))||0),d;d=(parseFloat(k.css(a[0],"borderTopWidth",!0))||0)+(parseFloat(k.css(a[0],"borderBottomWidth",!0))||0);return b+d+(c?Za(a):0)}function Za(a){return(parseFloat(k.css(a[0],"marginTop",!0))||0)+(parseFloat(k.css(a[0],"marginBottom",!0))||0)}function za(a,c){c="number"==typeof c?c+"px":c;a.each(function(a,d){d.style.cssText+=";min-height:"+c+";_height:"+c})}function Ta(){}function $a(a,c){return a-c}function ga(a){return(10>a?"0":"")+a}function Ga(a,c){if(a[c]!==y)return a[c];c=c.split(/(?=[A-Z])/);for(var b=c.length-1,d;0<=b;b--)if(d=a[c[b].toLowerCase()],d!==y)return d;return a[""]}function ca(a){return a.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;").replace(/'/g,"\x26#039;").replace(/"/g,"\x26quot;").replace(/\n/g,"\x3cbr /\x3e")}function ab(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function Na(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function Ba(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function Oa(a,c){a.each(function(a,d){d.className=d.className.replace(/^fc-\w*/,"fc-"+wb[c.getDay()])})}function bb(a,c){var b=a.source||{},d=a.color,f=b.color,k=c("eventColor"),h=a.backgroundColor||d||b.backgroundColor||f||c("eventBackgroundColor")||k,d=a.borderColor||d||b.borderColor||f||c("eventBorderColor")||k;a=a.textColor||b.textColor||c("eventTextColor");c=[];h&&c.push("background-color:"+h);d&&c.push("border-color:"+d);a&&c.push("color:"+a);return c.join(";")}function Aa(a,c,b){k.isFunction(a)&&(a=[a]);if(a){var d,f;for(d=0;d<a.length;d++)f=a[d].apply(c,b)||f;return f}}function ia(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==y)return arguments[a]}function Pa(a,c,b){function d(a){var b=a||1==L,c=l.start.getMonth(),d=la(new Date),f,e,E;b&&H.each(function(a,b){f=k(b);e=w(a);f.html(z(e,xa));Oa(f,e)});T.each(function(a,E){f=k(E);e=w(a);e.getMonth()==c?f.removeClass("fc-other-month"):f.addClass("fc-other-month");+e==+d?f.addClass(Q+"-state-highlight fc-today"):f.removeClass(Q+"-state-highlight fc-today");f.find("div.fc-day-number").text(e.getDate());b&&Oa(f,e)});U.each(function(a,b){E=k(b);a<L?(E.show(),a==L-1?E.addClass("fc-last"):E.removeClass("fc-last")):E.hide()})}function f(a){if(!y("selectable")){var b=parseInt(this.className.match(/fc\-day(\d+)/)[1]),b=w(b);A("dayClick",this,b,!0,a)}}function m(a,b,c){c&&G.build();c=q(l.visStart);for(var d=v(q(c),D),e=0;e<L;e++){var E=new Date(Math.max(c,a)),g=new Date(Math.min(d,b));if(E<g){var k;M?(k=ba(g,c)*R+K+1,E=ba(E,c)*R+K+1):(k=ba(E,c),E=ba(g,c));h(e,k,e,E-1).click(f).mousedown(r)}v(c,7);v(d,7)}}function h(b,c,d,e){b=G.rect(b,c,d,e,a);return P(b,a)}function e(a){return{row:Math.floor(ba(a,l.visStart)/7),col:C(a.getDay())}}function g(a){return n(a.row,a.col)}function n(a,b){return v(q(l.visStart),7*a+b*R+K)}function w(a){return n(Math.floor(a/D),a%D)}function C(a){return(a-Math.max(ha,B)+D)%D*R+K}var l=this;l.renderBasic=function(b,c,e,h){L=c;D=e;(M=y("isRTL"))?(R=-1,K=D-1):(R=1,K=0);ha=y("firstDay");B=y("weekends")?0:1;Q=y("theme")?"ui":"fc";xa=y("columnFormat");if(c=!u){var g=Q+"-widget-header",E=Q+"-widget-content",n;e="\x3ctable class\x3d'fc-border-separate' style\x3d'width:100%' cellspacing\x3d'0'\x3e\x3cthead\x3e\x3ctr\x3e";for(n=0;n<D;n++)e+="\x3cth class\x3d'fc- "+g+"'/\x3e";e+="\x3c/tr\x3e\x3c/thead\x3e\x3ctbody\x3e";for(n=0;n<b;n++){e+="\x3ctr class\x3d'fc-week"+n+"'\x3e";for(g=0;g<D;g++)e+="\x3ctd class\x3d'fc- "+E+" fc-day"+(n*D+g)+"'\x3e\x3cdiv\x3e"+(h?"\x3cdiv class\x3d'fc-day-number'/\x3e":"")+"\x3cdiv class\x3d'fc-day-content'\x3e\x3cdiv style\x3d'position:relative'\x3e\x26nbsp;\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e";e+="\x3c/tr\x3e"}b=k(e+"\x3c/tbody\x3e\x3c/table\x3e").appendTo(a);x=b.find("thead");H=x.find("th");u=b.find("tbody");U=u.find("tr");T=u.find("td");aa=T.filter(":first-child");Y=U.eq(0).find("div.fc-day-content div");Ba(x.add(x.find("tr")));Ba(U);U.eq(0).addClass("fc-first");T.click(f).mousedown(r);X=k("\x3cdiv style\x3d'position:absolute;z-index:8;top:0;left:0'/\x3e").appendTo(a)}else t();d(c)};l.setHeight=function(a){F=a;a=F-x.height();var b,c,d;"variable"==y("weekMode")?b=c=Math.floor(a/(1==L?2:6)):(b=Math.floor(a/L),c=a-b*(L-1));aa.each(function(a,e){a<L&&(d=k(e),za(d.find("\x3e div"),(a==L-1?c:b)-sa(d)))})};l.setWidth=function(a){I=a;S.clear();V=Math.floor(I/D);wa(H.slice(0,-1),V)};l.renderDayOverlay=m;l.defaultSelectionEnd=function(a,b){return q(a)};l.renderSelection=function(a,b,c){m(a,v(q(b),1),!0)};l.clearSelection=function(){p()};l.reportDayClick=function(a,b,c){var d=e(a);A("dayClick",T[d.row*D+d.col],a,b,c)};l.dragStart=function(a,b,c){O.start(function(a){p();a&&h(a.row,a.col,a.row,a.col)},b)};l.dragStop=function(a,b,c){var d=O.stop();p();d&&(d=g(d),A("drop",a,d,!0,b,c))};l.defaultEventEnd=function(a){return q(a.start)};l.getHoverListener=function(){return O};l.colContentLeft=function(a){return S.left(a)};l.colContentRight=function(a){return S.right(a)};l.dayOfWeekCol=C;l.dateCell=e;l.cellDate=g;l.cellIsAllDay=function(){return!0};l.allDayRow=function(a){return U.eq(a)};l.allDayBounds=function(a){return{left:0,right:I}};l.getRowCnt=function(){return L};l.getColCnt=function(){return D};l.getColWidth=function(){return V};l.getDaySegmentContainer=function(){return X};fb.call(l,a,c,b);gb.call(l);hb.call(l);xb.call(l);var y=l.opt,A=l.trigger,t=l.clearEvents,P=l.renderOverlay,p=l.clearOverlays,r=l.daySelectionMousedown,z=c.formatDate,x,H,u,U,T,aa,Y,X,I,F,V,L,D,G,O,S,M,R,K,ha,B,Q,xa;Na(a.addClass("fc-grid"));G=new ib(function(a,b){var c,d,e;H.each(function(a,f){c=k(f);d=c.offset().left;a&&(e[1]=d);e=[d];b[a]=e});e[1]=d+c.outerWidth();U.each(function(b,f){b<L&&(c=k(f),d=c.offset().top,b&&(e[1]=d),e=[d],a[b]=e)});e[1]=d+c.outerHeight()});O=new jb(G);S=new kb(function(a){return Y.eq(a)})}function xb(){function a(a){var c=p(),d=r(),e=q(b.visStart),d=v(q(e),d),f=k.map(a,va),h,g,n,m,x,l,H=[];for(h=0;h<c;h++){g=La(Ka(a,f,e,d));for(n=0;n<g.length;n++)for(m=g[n],x=0;x<m.length;x++)l=m[x],l.row=h,l.level=n,H.push(l);v(e,7);v(d,7)}return H}function c(a,b){var c=A(),e;b.draggable({zIndex:9,delay:50,opacity:d("dragOpacity"),revertDuration:d("dragRevertDuration"),start:function(h,g){f("eventDragStart",b,a,h,g);y(a,b);c.start(function(c,f,h,g){b.draggable("option","revert",!c||!h&&!g);P();c?(e=7*h+g*(d("isRTL")?-1:1),t(v(q(a.start),e),v(va(a),e))):e=0},h,"drag")},stop:function(d,h){c.stop();P();f("eventDragStop",b,a,d,h);e?l(this,a,e,0,a.allDay,d,h):(b.css("filter",""),w(a,b))}})}var b=this;b.renderEvents=function(b,c){e(b);z(a(b),c)};b.compileDaySegs=a;b.clearEvents=function(){g();J().empty()};b.bindDaySeg=function(a,b,d){m(a)&&c(a,b);d.isEnd&&h(a)&&x(a,b,d);n(a,b)};lb.call(b);var d=b.opt,f=b.trigger,m=b.isEventDraggable,h=b.isEventResizable,e=b.reportEvents,g=b.reportEventClear,n=b.eventElementHandlers,w=b.showEvents,y=b.hideEvents,l=b.eventDrop,J=b.getDaySegmentContainer,A=b.getHoverListener,t=b.renderDayOverlay,P=b.clearOverlays,p=b.getRowCnt,r=b.getColCnt,z=b.renderDaySegs,x=b.resizableDayEvent}function mb(a,c,b){function d(){function a(){B.scrollTop(d)}var b=Va(),c=q(b);c.setHours(r("firstHour"));var d=l(b,c)+1;a();setTimeout(a,0)}function f(a){if(!r("selectable")){var b=Math.min(Z-1,Math.floor((a.pageX-I.offset().left-ma)/Ca)),c=n(b),d=this.parentNode.className.match(/fc-slot(\d+)/);d?(d=parseInt(d[1])*r("slotMinutes"),c.setHours(Math.floor(d/60)),c.setMinutes(d%60+na),z("dayClick",D[b],c,!1,a)):z("dayClick",D[b],c,!0,a)}}function m(a,b,c){c&&oa.build();var d=q(p.visStart);ga?(c=ba(b,d)*ja+ka+1,a=ba(a,d)*ja+ka+1):(c=ba(a,d),a=ba(b,d));c=Math.max(0,c);a=Math.min(Z,a);c<a&&h(0,c,0,a-1).click(f).mousedown(aa)}function h(a,b,c,d){a=oa.rect(a,b,c,d,M);return H(a,M)}function e(a,b){for(var c=q(p.visStart),d=v(q(c),1),e=0;e<Z;e++){var h=new Date(Math.max(c,a)),g=new Date(Math.min(d,b));if(h<g){var k=e*ja+ka,k=oa.rect(0,k,0,k,Q),h=l(c,h),g=l(c,g);k.top=h;k.height=g-h;H(k,Q).click(f).mousedown(t)}v(c,1);v(d,1)}}function g(a){var b=n(a.col);a=a.row;r("allDaySlot")&&a--;0<=a&&J(b,na+a*r("slotMinutes"));return b}function n(a){return v(q(p.visStart),a*ja+ka)}function w(a){return r("allDaySlot")&&!a.row}function C(a){return(a-Math.max(ea,fa)+Z)%Z*ja+ka}function l(a,b){a=q(a,!0);if(b<J(q(a),na))return 0;if(b>=J(q(a),ca))return E.height();a=r("slotMinutes");b=60*b.getHours()+b.getMinutes()-na;var c=Math.floor(b/a),d=Qa[c];d===y&&(d=Qa[c]=E.find("tr:eq("+c+") td div")[0].offsetTop);return Math.max(0,Math.round(d-1+b%a/a*ya))}function ta(a,b){var c=r("selectHelper");oa.build();if(c){var d=ba(a,p.visStart)*ja+ka;if(0<=d&&d<Z){var d=oa.rect(0,d,0,d,Q),h=l(a,a),g=l(a,b);if(g>h){d.top=h;d.height=g-h;d.left+=2;d.width-=5;if(k.isFunction(c)){if(a=c(a,b))d.position="absolute",d.zIndex=8,da=k(a).css(d).appendTo(Q)}else d.isStart=!0,d.isEnd=!0,da=k(Y({title:"",start:a,end:b,className:["fc-select-helper"],editable:!1},d)),da.css("opacity",r("dragOpacity"));da&&(da.click(f).mousedown(t),Q.append(da),wa(da,d.width,!0),Ya(da,d.height,!0))}}}else e(a,b)}function A(){u();da&&(da.remove(),da=null)}function t(a){if(1==a.which&&r("selectable")){T(a);var b;ra.start(function(a,c){A();a&&a.col==c.col&&!w(a)?(c=g(c),a=g(a),b=[c,J(q(c),r("slotMinutes")),a,J(q(a),r("slotMinutes"))].sort($a),ta(b[0],b[3])):b=null},a);k(document).one("mouseup",function(a){ra.stop();b&&(+b[0]==+b[1]&&P(b[0],!1,a),U(b[0],b[3],!1,a))})}}function P(a,b,c){z("dayClick",D[C(a.getDay())],a,b,c)}var p=this;p.renderAgenda=function(b){Z=b;W=r("theme")?"ui":"fc";fa=r("weekends")?0:1;ea=r("firstDay");(ga=r("isRTL"))?(ja=-1,ka=Z-1):(ja=1,ka=0);na=Ja(r("minTime"));ca=Ja(r("maxTime"));ia=r("columnFormat");if(I)x();else{b=W+"-widget-header";var c=W+"-widget-content",d,e,h,g,m,l=0==r("slotMinutes")%15;d="\x3ctable style\x3d'width:100%' class\x3d'fc-agenda-days fc-border-separate' cellspacing\x3d'0'\x3e\x3cthead\x3e\x3ctr\x3e\x3cth class\x3d'fc-agenda-axis "+b+"'\x3e\x26nbsp;\x3c/th\x3e";for(e=0;e<Z;e++)d+="\x3cth class\x3d'fc- fc-col"+e+" "+b+"'/\x3e";d+="\x3cth class\x3d'fc-agenda-gutter "+b+"'\x3e\x26nbsp;\x3c/th\x3e\x3c/tr\x3e\x3c/thead\x3e\x3ctbody\x3e\x3ctr\x3e\x3cth class\x3d'fc-agenda-axis "+b+"'\x3e\x26nbsp;\x3c/th\x3e";for(e=0;e<Z;e++)d+="\x3ctd class\x3d'fc- fc-col"+e+" "+c+"'\x3e\x3cdiv\x3e\x3cdiv class\x3d'fc-day-content'\x3e\x3cdiv style\x3d'position:relative'\x3e\x26nbsp;\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e";I=k(d+("\x3ctd class\x3d'fc-agenda-gutter "+c+"'\x3e\x26nbsp;\x3c/td\x3e\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e")).appendTo(a);F=I.find("thead");V=F.find("th").slice(1,-1);L=I.find("tbody");D=L.find("td").slice(0,-1);G=D.find("div.fc-day-content div");O=D.eq(0);S=O.find("\x3e div");Ba(F.add(F.find("tr")));Ba(L.add(L.find("tr")));pa=F.find("th:first");qa=I.find(".fc-agenda-gutter");M=k("\x3cdiv style\x3d'position:absolute;z-index:2;left:0;width:100%'/\x3e").appendTo(a);r("allDaySlot")?(R=k("\x3cdiv style\x3d'position:absolute;z-index:8;top:0;left:0'/\x3e").appendTo(M),d="\x3ctable style\x3d'width:100%' class\x3d'fc-agenda-allday' cellspacing\x3d'0'\x3e\x3ctr\x3e\x3cth class\x3d'"+b+" fc-agenda-axis'\x3e"+r("allDayText")+"\x3c/th\x3e\x3ctd\x3e\x3cdiv class\x3d'fc-day-content'\x3e\x3cdiv style\x3d'position:relative'/\x3e\x3c/div\x3e\x3c/td\x3e\x3cth class\x3d'"+b+" fc-agenda-gutter'\x3e\x26nbsp;\x3c/th\x3e\x3c/tr\x3e\x3c/table\x3e",K=k(d).appendTo(M),ha=K.find("tr"),ha.find("td").click(f).mousedown(aa),pa=pa.add(K.find("th:first")),qa=qa.add(K.find("th.fc-agenda-gutter")),M.append("\x3cdiv class\x3d'fc-agenda-divider "+b+"'\x3e\x3cdiv class\x3d'fc-agenda-divider-inner'/\x3e\x3c/div\x3e")):R=k([]);B=k("\x3cdiv style\x3d'position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/\x3e").appendTo(M);Q=k("\x3cdiv style\x3d'position:relative;width:100%;overflow:hidden'/\x3e").appendTo(B);xa=k("\x3cdiv style\x3d'position:absolute;z-index:8;top:0;left:0'/\x3e").appendTo(Q);d="\x3ctable class\x3d'fc-agenda-slots' style\x3d'width:100%' cellspacing\x3d'0'\x3e\x3ctbody\x3e";h=Va();g=J(q(h),ca);J(h,na);for(e=Ra=0;h<g;e++)m=h.getMinutes(),d+="\x3ctr class\x3d'fc-slot"+e+" "+(m?"fc-minor":"")+"'\x3e\x3cth class\x3d'fc-agenda-axis "+b+"'\x3e"+(l&&m?"\x26nbsp;":X(h,r("axisFormat")))+"\x3c/th\x3e\x3ctd class\x3d'"+c+"'\x3e\x3cdiv style\x3d'position:relative'\x3e\x26nbsp;\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e",J(h,r("slotMinutes")),Ra++;E=k(d+"\x3c/tbody\x3e\x3c/table\x3e").appendTo(Q);cb=E.find("div:first");E.find("td").click(f).mousedown(t);pa=pa.add(E.find("th:first"))}h=la(new Date);for(b=0;b<Z;b++)e=n(b),c=V.eq(b),c.html(X(e,ia)),d=D.eq(b),+e==+h?d.addClass(W+"-state-highlight fc-today"):d.removeClass(W+"-state-highlight fc-today"),Oa(c.add(d),e)};p.setWidth=function(a){db=a;N.clear();ma=0;wa(pa.width("").each(function(a,b){ma=Math.max(ma,k(b).outerWidth())}),ma);a=B[0].clientWidth;(Sa=B.width()-a)?(wa(qa,Sa),qa.show().prev().removeClass("fc-last")):qa.hide().prev().addClass("fc-last");Ca=Math.floor((a-ma)/Z);wa(V.slice(0,-1),Ca)};p.setHeight=function(a,b){a===y&&(a=eb);eb=a;Qa={};var c=L.position().top,e=B.position().top;a=Math.min(a-c,E.height()+e+1);S.height(a-sa(O));M.css("top",c);B.height(a-e-1);ya=cb.height()+1;b&&d()};p.beforeHide=function(){nb=B.scrollTop()};p.afterShow=function(){B.scrollTop(nb)};p.defaultEventEnd=function(a){var b=q(a.start);return a.allDay?b:J(b,r("defaultEventMinutes"))};p.timePosition=l;p.dayOfWeekCol=C;p.dateCell=function(a){return{row:Math.floor(ba(a,p.visStart)/7),col:C(a.getDay())}};p.cellDate=g;p.cellIsAllDay=w;p.allDayRow=function(a){return ha};p.allDayBounds=function(){return{left:ma,right:db-Sa}};p.getHoverListener=function(){return ra};p.colContentLeft=function(a){return N.left(a)};p.colContentRight=function(a){return N.right(a)};p.getDaySegmentContainer=function(){return R};p.getSlotSegmentContainer=function(){return xa};p.getMinMinute=function(){return na};p.getMaxMinute=function(){return ca};p.getBodyContent=function(){return Q};p.getRowCnt=function(){return 1};p.getColCnt=function(){return Z};p.getColWidth=function(){return Ca};p.getSlotHeight=function(){return ya};p.defaultSelectionEnd=function(a,b){return b?q(a):J(q(a),r("slotMinutes"))};p.renderDayOverlay=m;p.renderSelection=function(a,b,c){c?r("allDaySlot")&&m(a,v(q(b),1),!0):ta(a,b)};p.clearSelection=A;p.reportDayClick=P;p.dragStart=function(a,b,c){ra.start(function(a){u();if(a)if(w(a))h(a.row,a.col,a.row,a.col);else{a=g(a);var b=J(q(a),r("defaultEventMinutes"));e(a,b)}},b)};p.dragStop=function(a,b,c){var d=ra.stop();u();d&&z("drop",a,g(d),w(d),b,c)};fb.call(p,a,c,b);gb.call(p);hb.call(p);yb.call(p);var r=p.opt,z=p.trigger,x=p.clearEvents,H=p.renderOverlay,u=p.clearOverlays,U=p.reportSelection,T=p.unselect,aa=p.daySelectionMousedown,Y=p.slotSegHtml,X=c.formatDate,I,F,V,L,D,G,O,S,M,R,K,ha,B,Q,xa,E,cb,pa,qa,da,db,eb,ma,Ca,Sa,ya,nb,Z,Ra,oa,ra,N,Qa={},W,ea,fa,ga,ja,ka,na,ca,ia;Na(a.addClass("fc-agenda"));oa=new ib(function(a,b){var c,d,e;V.each(function(a,h){c=k(h);d=c.offset().left;a&&(e[1]=d);e=[d];b[a]=e});e[1]=d+c.outerWidth();r("allDaySlot")&&(c=ha,d=c.offset().top,a[0]=[d,d+c.outerHeight()]);for(var h=Q.offset().top,f=B.offset().top,g=f+B.outerHeight(),n=0;n<Ra;n++)a.push([Math.max(f,Math.min(g,h+ya*n)),Math.max(f,Math.min(g,h+ya*(n+1)))])});ra=new jb(oa);N=new kb(function(a){return G.eq(a)})}function yb(){function a(a){a=La(Ka(a,k.map(a,va),e.visStart,e.visEnd));var b,c=a.length,d,h,f,g=[];for(b=0;b<c;b++)for(d=a[b],h=0;h<d.length;h++)f=d[h],f.row=0,f.level=b,g.push(f);return g}function c(a){return a.end?q(a.end):J(q(a.start),g("defaultEventMinutes"))}function b(a,b){var c="\x3c",d=a.url,e=bb(a,g),h=e?" style\x3d'"+e+"'":"",f=["fc-event","fc-event-skin","fc-event-vert"];w(a)&&f.push("fc-event-draggable");b.isStart&&f.push("fc-corner-top");b.isEnd&&f.push("fc-corner-bottom");f=f.concat(a.className);a.source&&(f=f.concat(a.source.className||[]));c=d?c+("a href\x3d'"+ca(a.url)+"'"):c+"div";c+=" class\x3d'"+f.join(" ")+"' style\x3d'position:absolute;z-index:8;top:"+b.top+"px;left:"+b.left+"px;"+e+"'\x3e\x3cdiv class\x3d'fc-event-inner fc-event-skin'"+h+"\x3e\x3cdiv class\x3d'fc-event-head fc-event-skin'"+h+"\x3e\x3cdiv class\x3d'fc-event-time'\x3e"+ca(B(a.start,a.end,g("timeFormat")))+"\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'fc-event-content'\x3e\x3cdiv class\x3d'fc-event-title'\x3e"+ca(a.title)+"\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d'fc-event-bg'\x3e\x3c/div\x3e\x3c/div\x3e";b.isEnd&&C(a)&&(c+="\x3cdiv class\x3d'ui-resizable-handle ui-resizable-s'\x3e\x3d\x3c/div\x3e");return c+("\x3c/"+(d?"a":"div")+"\x3e")}function d(a,b,c){var d=b.find("div.fc-event-time");w(a)&&m(a,b,d);c.isEnd&&C(a)&&h(a,b,d);t(a,b)}function f(a,b,c){function d(){f||(b.width(e).height("").draggable("option","grid",null),f=!0)}var e,h,f=!0,k,r=g("isRTL")?-1:1,m=z(),l=I(),x=F(),E=H();b.draggable({zIndex:9,opacity:g("dragOpacity","month"),revertDuration:g("dragRevertDuration"),start:function(E,u){n("eventDragStart",b,a,E,u);G(a,b);e=b.width();m.start(function(e,n,m,E){R();e?(h=!1,k=E*r,e.row?c?f&&(b.width(l-10),Ya(b,x*Math.round((a.end?(a.end-a.start)/6E4:g("defaultEventMinutes"))/g("slotMinutes"))),b.draggable("option","grid",[l,1]),f=!1):h=!0:(M(v(q(a.start),k),v(va(a),k)),d()),h=h||f&&!k):(d(),h=!0);b.draggable("option","revert",h)},E,"drag")},stop:function(c,e){m.stop();R();n("eventDragStop",b,a,c,e);if(h)d(),b.css("filter",""),D(a,b);else{var r=0;f||(r=Math.round((b.offset().top-V().offset().top)/x)*g("slotMinutes")+E-(60*a.start.getHours()+a.start.getMinutes()));O(this,a,k,r,f,c,e)}}})}function m(a,b,c){function d(b){var d=J(q(a.start),b),e;a.end&&(e=J(q(a.end),b));c.text(B(d,e,g("timeFormat")))}function e(){f&&(c.css("display",""),b.draggable("option","grid",[u,w]),f=!1)}var h,f=!1,k,r,m,l=g("isRTL")?-1:1,x=z(),E=X(),u=I(),w=F();b.draggable({zIndex:9,scroll:!1,grid:[u,w],axis:1==E?"y":!1,opacity:g("dragOpacity"),revertDuration:g("dragRevertDuration"),start:function(d,E){n("eventDragStart",b,a,d,E);G(a,b);h=b.position();r=m=0;x.start(function(d,h,r,n){b.draggable("option","revert",!d);R();d&&(k=n*l,g("allDaySlot")&&!d.row?(f||(f=!0,c.hide(),b.draggable("option","grid",null)),M(v(q(a.start),k),v(va(a),k))):e())},d,"drag")},drag:function(a,b){r=Math.round((b.position.top-h.top)/w)*g("slotMinutes");r!=m&&(f||d(r),m=r)},stop:function(c,g){var m=x.stop();R();n("eventDragStop",b,a,c,g);m&&(k||r||f)?O(this,a,k,f?0:r,f,c,g):(e(),b.css("filter",""),b.css(h),d(0),D(a,b))}})}function h(a,b,c){var d,e,f=F();b.resizable({handles:{s:"div.ui-resizable-s"},grid:f,start:function(c,f){d=e=0;G(a,b);b.css("z-index",9);n("eventResizeStart",this,a,c,f)},resize:function(h,k){d=Math.round((Math.max(f,b.height())-k.originalSize.height)/f);d!=e&&(c.text(B(a.start,d||a.end?J(l(a),g("slotMinutes")*d):null,g("timeFormat"))),e=d)},stop:function(c,e){n("eventResizeStop",this,a,c,e);d?S(this,a,0,g("slotMinutes")*d,c,e):(b.css("z-index",8),D(a,b))}})}var e=this;e.renderEvents=function(f,h){N(f);var m,l=f.length,w=[],p=[];for(m=0;m<l;m++)f[m].allDay?w.push(f[m]):p.push(f[m]);g("allDaySlot")&&(aa(a(w),h),P());m=X();var l=H(),w=x(),R=J(q(e.visStart),l),z=k.map(p,c),G,B,K,t,O,S;f=[];for(G=0;G<m;G++){K=B=La(Ka(p,z,R,J(q(R),w-l)));var M,A,C;for(t=K.length-1;0<t;t--)for(M=K[t],O=0;O<M.length;O++)for(A=M[O],S=0;S<K[t-1].length;S++)C=K[t-1][S],A.end>C.start&&A.start<C.end&&(C.forward=Math.max(C.forward||0,(A.forward||0)+1));for(K=0;K<B.length;K++)for(t=B[K],O=0;O<t.length;O++)S=t[O],S.col=G,S.level=K,f.push(S);v(R,1,!0)}var p=f.length,Q,F,D;B="";w={};R={};G=r();m=X();(K=g("isRTL"))?(t=-1,M=m-1):(t=1,M=0);for(m=0;m<p;m++)l=f[m],z=l.event,O=u(l.start,l.start),S=u(l.start,l.end),Q=l.col,A=l.level,C=l.forward||0,F=U(Q*t+M),D=T(Q*t+M)-F,D=Math.min(D-6,.95*D),Q=A?D/(A+C+1):C?2*(D/(C+1)-6):D,A=F+D/(A+C+1)*A*t+(K?D-Q:0),l.top=O,l.left=A,l.outerWidth=Q,l.outerHeight=S-O,B+=b(z,l);G[0].innerHTML=B;K=G.children();for(m=0;m<p;m++)l=f[m],z=l.event,B=k(K[m]),t=n("eventRender",z,z,B),!1===t?B.remove():(t&&!0!==t&&(B.remove(),B=k(t).css({position:"absolute",top:l.top,left:l.left}).appendTo(G)),l.element=B,z._id===h?d(z,B,l):B[0]._fci=m,L(z,B));Xa(G,f,d);for(m=0;m<p;m++)if(l=f[m],B=l.element)z=w[h=l.key=ab(B[0])],l.vsides=z===y?w[h]=sa(B,!0):z,z=R[h],l.hsides=z===y?R[h]=Ma(B,!0):z,h=B.find("div.fc-event-content"),h.length&&(l.contentTop=h[0].offsetTop);for(m=0;m<p;m++)if(l=f[m],B=l.element)B[0].style.width=Math.max(0,l.outerWidth-l.hsides)+"px",h=Math.max(0,l.outerHeight-l.vsides),B[0].style.height=h+"px",z=l.event,l.contentTop!==y&&10>h-l.contentTop&&(B.find("div.fc-event-time").text(ha(z.start,g("timeFormat"))+" - "+z.title),B.find("div.fc-event-title").remove()),n("eventAfterRender",z,z,B)};e.compileDaySegs=a;e.clearEvents=function(){A();p().empty();r().empty()};e.slotSegHtml=b;e.bindDaySeg=function(a,b,c){w(a)&&f(a,b,c.isStart);c.isEnd&&C(a)&&Y(a,b,c);t(a,b)};lb.call(e);var g=e.opt,n=e.trigger,w=e.isEventDraggable,C=e.isEventResizable,l=e.eventEnd,N=e.reportEvents,A=e.reportEventClear,t=e.eventElementHandlers,P=e.setHeight,p=e.getDaySegmentContainer,r=e.getSlotSegmentContainer,z=e.getHoverListener,x=e.getMaxMinute,H=e.getMinMinute,u=e.timePosition,U=e.colContentLeft,T=e.colContentRight,aa=e.renderDaySegs,Y=e.resizableDayEvent,X=e.getColCnt,I=e.getColWidth,F=e.getSlotHeight,V=e.getBodyContent,L=e.reportEventElement,D=e.showEvents,G=e.hideEvents,O=e.eventDrop,S=e.eventResize,M=e.renderDayOverlay,R=e.clearOverlays,K=e.calendar,ha=K.formatDate,B=K.formatDates}function fb(a,c,b){function d(a,c){a=p[a];return"object"==typeof a?Ga(a,c||b):a}function f(a,b){return c.trigger.apply(c,[a,b||w].concat(Array.prototype.slice.call(arguments,2),[w]))}function k(a){return ia(a.editable,(a.source||{}).editable,d("editable"))}function h(a){return a.end?q(a.end):C(a)}function e(a,b,c){a=P[a._id];var d,e=a.length;for(d=0;d<e;d++)if(!b||a[d][0]!=b[0])a[d][c]()}function g(a,b,c,d){c=c||0;for(var e,f=a.length,h=0;h<f;h++)e=a[h],d!==y&&(e.allDay=d),J(v(e.start,b,!0),c),e.end&&(e.end=J(v(e.end,b,!0),c)),l(e,p)}function n(a,b,c){c=c||0;for(var d,e=a.length,f=0;f<e;f++)d=a[f],d.end=J(v(h(d),b,!0),c),l(d,p)}var w=this;w.element=a;w.calendar=c;w.name=b;w.opt=d;w.trigger=f;w.isEventDraggable=function(a){return k(a)&&!d("disableDragging")};w.isEventResizable=function(a){return k(a)&&!d("disableResizing")};w.reportEvents=function(a){A={};var b,c=a.length,d;for(b=0;b<c;b++)d=a[b],A[d._id]?A[d._id].push(d):A[d._id]=[d]};w.eventEnd=h;w.reportEventElement=function(a,b){t.push(b);P[a._id]?P[a._id].push(b):P[a._id]=[b]};w.reportEventClear=function(){t=[];P={}};w.eventElementHandlers=function(a,b){b.click(function(c){if(!b.hasClass("ui-draggable-dragging")&&!b.hasClass("ui-resizable-resizing"))return f("eventClick",this,a,c)}).hover(function(b){f("eventMouseover",this,a,b)},function(b){f("eventMouseout",this,a,b)})};w.showEvents=function(a,b){e(a,b,"show")};w.hideEvents=function(a,b){e(a,b,"hide")};w.eventDrop=function(a,b,c,d,e,h,k){var m=b.allDay,n=b._id;g(A[n],c,d,e);f("eventDrop",a,b,c,d,e,function(){g(A[n],-c,-d,m);N(n)},h,k);N(n)};w.eventResize=function(a,b,c,d,e,h){var g=b._id;n(A[g],c,d);f("eventResize",a,b,c,d,function(){n(A[g],-c,-d);N(g)},e,h);N(g)};var C=w.defaultEventEnd,l=c.normalizeEvent,N=c.reportEventChange,A={},t=[],P={},p=c.options}function lb(){function a(a){var b=n("isRTL"),c,d=a.length,e,f,h,g;c=H();var k=c.left,m=c.right,w,r,p,q,t,G="";for(c=0;c<d;c++)e=a[c],f=e.event,g=["fc-event","fc-event-skin","fc-event-hori"],C(f)&&g.push("fc-event-draggable"),b?(e.isStart&&g.push("fc-corner-right"),e.isEnd&&g.push("fc-corner-left"),w=T(e.end.getDay()-1),r=T(e.start.getDay()),p=e.isEnd?u(w):k,q=e.isStart?J(r):m):(e.isStart&&g.push("fc-corner-left"),e.isEnd&&g.push("fc-corner-right"),w=T(e.start.getDay()),r=T(e.end.getDay()-1),p=e.isStart?u(w):k,q=e.isEnd?J(r):m),g=g.concat(f.className),f.source&&(g=g.concat(f.source.className||[])),h=f.url,t=bb(f,n),G=h?G+("\x3ca href\x3d'"+ca(h)+"'"):G+"\x3cdiv",G+=" class\x3d'"+g.join(" ")+"' style\x3d'position:absolute;z-index:8;left:"+p+"px;"+t+"'\x3e\x3cdiv class\x3d'fc-event-inner fc-event-skin'"+(t?" style\x3d'"+t+"'":"")+"\x3e",!f.allDay&&e.isStart&&(G+="\x3cspan class\x3d'fc-event-time'\x3e"+ca(F(f.start,f.end,n("timeFormat")))+"\x3c/span\x3e"),G+="\x3cspan class\x3d'fc-event-title'\x3e"+ca(f.title)+"\x3c/span\x3e\x3c/div\x3e",e.isEnd&&l(f)&&(G+="\x3cdiv class\x3d'ui-resizable-handle ui-resizable-"+(b?"w":"e")+"'\x3e\x26nbsp;\x26nbsp;\x26nbsp;\x3c/div\x3e"),G+="\x3c/"+(h?"a":"div")+"\x3e",e.left=p,e.outerWidth=q-p,e.startCol=w,e.endCol=r+1;return G}function c(a,b){var c,d=a.length,e,f,h;for(c=0;c<d;c++)e=a[c],f=e.event,h=k(b[c]),f=w("eventRender",f,f,h),!1===f?h.remove():(f&&!0!==f&&(f=k(f).css({position:"absolute",left:e.left}),h.replaceWith(f),h=f),e.element=h)}function b(a){var b,c=a.length,d,e,f,h,g={};for(b=0;b<c;b++)if(d=a[b],e=d.element)f=d.key=ab(e[0]),h=g[f],h===y&&(h=g[f]=Ma(e,!0)),d.hsides=h}function d(a){var b,c=a.length,d,e;for(b=0;b<c;b++)if(d=a[b],e=d.element)e[0].style.width=Math.max(0,d.outerWidth-d.hsides)+"px"}function f(a){var b,c=a.length,d,e,f,h,g={};for(b=0;b<c;b++)if(d=a[b],e=d.element)f=d.key,h=g[f],h===y&&(h=g[f]=Za(e)),d.outerHeight=e[0].offsetHeight+h}function m(){var a,b=r(),c=[];for(a=0;a<b;a++)c[a]=x(a).find("td:first div.fc-day-content \x3e div");return c}function h(a){var b,c=a.length,d=[];for(b=0;b<c;b++)d[b]=a[b][0].offsetTop;return d}function e(a,b){var c,d=a.length,e,f;for(c=0;c<d;c++)if(e=a[c],f=e.element)f[0].style.top=b[e.row]+(e.top||0)+"px",e=e.event,w("eventAfterRender",e,e,f)}var g=this;g.renderDaySegs=function(g,k){var n=X(),l=r(),w=z(),p=0,q,t,x=g.length,u,v;n[0].innerHTML=a(g);c(g,n.children());t=g.length;var C;for(q=0;q<t;q++)v=g[q],(C=v.element)&&A(v.event,C);t=g.length;var y;for(q=0;q<t;q++)if(v=g[q],C=v.element)y=v.event,y._id===k?I(y,C,v):C[0]._fci=q;Xa(n,g,I);b(g);d(g);f(g);k=m();for(n=0;n<l;n++){q=[];for(t=0;t<w;t++)q[t]=0;for(;p<x&&(u=g[p]).row==n;){t=Math.max.apply(Math,q.slice(u.startCol,u.endCol));u.top=t;t+=u.outerHeight;for(v=u.startCol;v<u.endCol;v++)q[v]=t;p++}k[n].height(Math.max.apply(Math,q))}e(g,h(k))};g.resizableDayEvent=function(l,u,x){var A=n("isRTL"),C=A?"w":"e",y=u.find("div.ui-resizable-"+C),F=!1;Na(u);u.mousedown(function(a){a.preventDefault()}).click(function(a){F&&(a.preventDefault(),a.stopImmediatePropagation())});y.mousedown(function(n){if(1==n.which){F=!0;var y=g.getHoverListener(),B=r(),E=z(),G=A?-1:1,H=A?E-1:0,K=u.css("top"),I,J,O=k.extend({},l),M=W(l.start);D();k("body").css("cursor",C+"-resize").one("mouseup",function(a){w("eventResizeStop",this,l,a);k("body").css("cursor","");y.stop();L();I&&p(this,l,I,0,a);setTimeout(function(){F=!1},0)});w("eventResizeStart",this,l,n);y.start(function(g,n){if(g){var w=Math.max(M.row,g.row);g=g.col;1==B&&(w=0);w==M.row&&(g=A?Math.min(M.col,g):Math.max(M.col,g));I=7*w+g*G+H-(7*n.row+n.col*G+H);n=v(N(l),I,!0);if(I){O.end=n;w=J;g=Y([O]);var r=x.row,p=k("\x3cdiv/\x3e"),u=X(),y=g.length,z;p[0].innerHTML=a(g);p=p.children();u.append(p);c(g,p);b(g);d(g);f(g);e(g,h(m()));p=[];for(u=0;u<y;u++)if(z=g[u].element)g[u].row===r&&z.css("top",K),p.push(z[0]);J=k(p);J.find("*").css("cursor",C+"-resize");w&&w.remove();P(l)}else J&&(t(l),J.remove(),J=null);L();V(l.start,v(q(n),1))}},n)}})};var n=g.opt,w=g.trigger,C=g.isEventDraggable,l=g.isEventResizable,N=g.eventEnd,A=g.reportEventElement,t=g.showEvents,P=g.hideEvents,p=g.eventResize,r=g.getRowCnt,z=g.getColCnt,x=g.allDayRow,H=g.allDayBounds,u=g.colContentLeft,J=g.colContentRight,T=g.dayOfWeekCol,W=g.dateCell,Y=g.compileDaySegs,X=g.getDaySegmentContainer,I=g.bindDaySeg,F=g.calendar.formatDates,V=g.renderDayOverlay,L=g.clearOverlays,D=g.clearSelection}function hb(){function a(a){g&&(g=!1,e(),f("unselect",null,a))}function c(a,b,c,d){g=!0;f("select",null,a,b,c,d)}var b=this;b.select=function(b,d,e){a();d||(d=m(b,e));h(b,d,e);c(b,d,e)};b.unselect=a;b.reportSelection=c;b.daySelectionMousedown=function(f){var g=b.cellDate,m=b.cellIsAllDay,n=b.getHoverListener(),q=b.reportDayClick;if(1==f.which&&d("selectable")){a(f);var v;n.start(function(a,b){e();a&&m(a)?(v=[g(b),g(a)].sort($a),h(v[0],v[1],!0)):v=null},f);k(document).one("mouseup",function(a){n.stop();v&&(+v[0]==+v[1]&&q(v[0],!0,a),c(v[0],v[1],!0,a))})}};var d=b.opt,f=b.trigger,m=b.defaultSelectionEnd,h=b.renderSelection,e=b.clearSelection,g=!1;d("selectable")&&d("unselectAuto")&&k(document).mousedown(function(b){var c=d("unselectCancel");c&&k(b.target).parents(c).length||a(b)})}function gb(){this.renderOverlay=function(b,d){var f=c.shift();f||(f=k("\x3cdiv class\x3d'fc-cell-overlay' style\x3d'position:absolute;z-index:3'/\x3e"));f[0].parentNode!=d[0]&&f.appendTo(d);a.push(f.css(b).show());return f};this.clearOverlays=function(){for(var b;b=a.shift();)c.push(b.hide().unbind())};var a=[],c=[]}function ib(a){var c,b;this.build=function(){c=[];b=[];a(c,b)};this.cell=function(a,f){var d=c.length,h=b.length,e,g=-1,k=-1;for(e=0;e<d;e++)if(f>=c[e][0]&&f<c[e][1]){g=e;break}for(e=0;e<h;e++)if(a>=b[e][0]&&a<b[e][1]){k=e;break}return 0<=g&&0<=k?{row:g,col:k}:null};this.rect=function(a,f,k,h,e){e=e.offset();return{top:c[a][0]-e.top,left:b[f][0]-e.left,width:b[h][1]-b[f][0],height:c[k][1]-c[a][0]}}}function jb(a){function c(b){b.pageX===y&&(b.pageX=b.originalEvent.pageX,b.pageY=b.originalEvent.pageY);b=a.cell(b.pageX,b.pageY);if(!b!=!m||b&&(b.row!=m.row||b.col!=m.col))b?(f||(f=b),d(b,f,b.row-f.row,b.col-f.col)):d(b,f),m=b}var b,d,f,m;this.start=function(h,e,g){d=h;f=m=null;a.build();c(e);b=g||"mousemove";k(document).bind(b,c)};this.stop=function(){k(document).unbind(b,c);return m}}function kb(a){var c=this,b={},d={},f={};c.left=function(c){return d[c]=d[c]===y?(b[c]=b[c]||a(c)).position().left:d[c]};c.right=function(d){return f[d]=f[d]===y?c.left(d)+(b[d]=b[d]||a(d)).width():f[d]};c.clear=function(){b={};d={};f={}}}var ua={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '\x26#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),buttonText:{prev:"\x26nbsp;\x26#9668;\x26nbsp;",next:"\x26nbsp;\x26#9658;\x26nbsp;",prevYear:"\x26nbsp;\x26lt;\x26lt;\x26nbsp;",nextYear:"\x26nbsp;\x26gt;\x26gt;\x26nbsp;",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*"},zb={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"\x26nbsp;\x26#9658;\x26nbsp;",next:"\x26nbsp;\x26#9668;\x26nbsp;",prevYear:"\x26nbsp;\x26gt;\x26gt;\x26nbsp;",nextYear:"\x26nbsp;\x26lt;\x26lt;\x26nbsp;"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},N=k.fullCalendar={version:"1.5.4"},ea=N.views={};k.fn.fullCalendar=function(a){if("string"==typeof a){var c=Array.prototype.slice.call(arguments,1),b;this.each(function(){var d=k.data(this,"fullCalendar");d&&k.isFunction(d[a])&&(d=d[a].apply(d,c),b===y&&(b=d),"destroy"==a&&k.removeData(this,"fullCalendar"))});return b!==y?b:this}var d=a.eventSources||[];delete a.eventSources;a.events&&(d.push(a.events),delete a.events);a=k.extend(!0,{},ua,a.isRTL||a.isRTL===y&&ua.isRTL?zb:{},a);this.each(function(b,c){b=k(c);c=new ob(b,a,d);b.data("fullCalendar",c);c.render()});return this};N.sourceNormalizers=[];N.sourceFetchers=[];var rb={dataType:"json",cache:!1},sb=1;N.addDays=v;N.cloneDate=q;N.parseDate=Ha;N.parseISO8601=Wa;N.parseTime=Ja;N.formatDate=fa;N.formatDates=Fa;var wb="sun mon tue wed thu fri sat".split(" "),tb=36E5,ub={s:function(a){return a.getSeconds()},ss:function(a){return ga(a.getSeconds())},m:function(a){return a.getMinutes()},mm:function(a){return ga(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return ga(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return ga(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return ga(a.getDate())},ddd:function(a,c){return c.dayNamesShort[a.getDay()]},dddd:function(a,c){return c.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return ga(a.getMonth()+1)},MMM:function(a,c){return c.monthNamesShort[a.getMonth()]},MMMM:function(a,c){return c.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return 12>a.getHours()?"a":"p"},tt:function(a){return 12>a.getHours()?"am":"pm"},T:function(a){return 12>a.getHours()?"A":"P"},TT:function(a){return 12>a.getHours()?"AM":"PM"},u:function(a){return fa(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();return 10<a&&20>a?"th":["st","nd","rd"][a%10-1]||"th"}};N.applyAll=Aa;ea.month=function(a,c){var b=this;b.render=function(a,c){c&&(Ea(a,c),a.setDate(1));a=q(a,!0);a.setDate(1);c=Ea(q(a),1);var e=q(a),h=q(c),m=d("firstDay"),y=d("weekends")?0:1;y&&(W(e),W(h,-1,!0));v(e,-((e.getDay()-Math.max(m,y)+7)%7));v(h,(7-h.getDay()+Math.max(m,y))%7);m=Math.round((h-e)/6048E5);"fixed"==d("weekMode")&&(v(h,7*(6-m)),m=6);b.title=k(a,d("titleFormat"));b.start=a;b.end=c;b.visStart=e;b.visEnd=h;f(6,m,y?5:7,!0)};Pa.call(b,a,c,"month");var d=b.opt,f=b.renderBasic,k=c.formatDate};ea.basicWeek=function(a,c){var b=this;b.render=function(a,c){c&&v(a,7*c);a=v(q(a),-((a.getDay()-d("firstDay")+7)%7));c=v(q(a),7);var e=q(a),h=q(c),m=d("weekends");m||(W(e),W(h,-1,!0));b.title=k(e,v(q(h),-1),d("titleFormat"));b.start=a;b.end=c;b.visStart=e;b.visEnd=h;f(1,1,m?7:5,!1)};Pa.call(b,a,c,"basicWeek");var d=b.opt,f=b.renderBasic,k=c.formatDates};ea.basicDay=function(a,c){var b=this;b.render=function(a,c){c&&(v(a,c),d("weekends")||W(a,0>c?-1:1));b.title=k(a,d("titleFormat"));b.start=b.visStart=q(a,!0);b.end=b.visEnd=v(q(b.start),1);f(1,1,1,!1)};Pa.call(b,a,c,"basicDay");var d=b.opt,f=b.renderBasic,k=c.formatDate};k.extend(!0,ua,{weekMode:"fixed"});ea.agendaWeek=function(a,c){var b=this;b.render=function(a,c){c&&v(a,7*c);a=v(q(a),-((a.getDay()-d("firstDay")+7)%7));c=v(q(a),7);var e=q(a),h=q(c),m=d("weekends");m||(W(e),W(h,-1,!0));b.title=k(e,v(q(h),-1),d("titleFormat"));b.start=a;b.end=c;b.visStart=e;b.visEnd=h;f(m?7:5)};mb.call(b,a,c,"agendaWeek");var d=b.opt,f=b.renderAgenda,k=c.formatDates};ea.agendaDay=function(a,c){var b=this;b.render=function(a,c){c&&(v(a,c),d("weekends")||W(a,0>c?-1:1));c=q(a,!0);var e=v(q(c),1);b.title=k(a,d("titleFormat"));b.start=b.visStart=c;b.end=b.visEnd=e;f(1)};mb.call(b,a,c,"agendaDay");var d=b.opt,f=b.renderAgenda,k=c.formatDate};k.extend(!0,ua,{allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24})})(jQuery);