'use strict';(function(d){function e(a,b,c){var e=a.success;b=d.extend({},a.data||{},{"start-min":k(b,"u"),"start-max":k(c,"u"),singleevents:!0,"max-results":9999});var f=a.currentTimezone;f&&(b.ctz=f=f.replace(" ","_"));return d.extend({},a,{url:a.url.replace(/\/basic$/,"/full")+"?alt\x3djson-in-script\x26callback\x3d?",dataType:"jsonp",data:b,startParam:!1,endParam:!1,success:function(a){var c=[];a.feed.entry&&d.each(a.feed.entry,function(a,b){var g=b.gd$when[0].startTime;a=l(g,!0);var e=l(b.gd$when[0].endTime,!0),g=-1==g.indexOf("T"),h;d.each(b.link,function(a,b){"text/html"==b.type&&(h=b.href,f&&(h+=(-1==h.indexOf("?")?"?":"\x26")+"ctz\x3d"+f))});g&&m(e,-1);c.push({id:b.gCal$uid.value,title:b.title.$t,url:h,start:a,end:e,allDay:g,location:b.gd$where[0].valueString,description:b.content.$t})});var b=[c].concat(Array.prototype.slice.call(arguments,1)),b=n(e,this,b);return d.isArray(b)?b:c}})}var c=d.fullCalendar,k=c.formatDate,l=c.parseISO8601,m=c.addDays,n=c.applyAll;c.sourceNormalizers.push(function(a){if("gcal"==a.dataType||void 0===a.dataType&&(a.url||"").match(/^(http|https):\/\/www.google.com\/calendar\/feeds\//))a.dataType="gcal",void 0===a.editable&&(a.editable=!1)});c.sourceFetchers.push(function(a,b,c){if("gcal"==a.dataType)return e(a,b,c)});c.gcalFeed=function(a,b){return d.extend({},b,{url:a,dataType:"gcal"})}})(jQuery);