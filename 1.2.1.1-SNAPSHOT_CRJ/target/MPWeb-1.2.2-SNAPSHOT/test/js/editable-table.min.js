'use strict';var EditableTable=function(){return{init:function(){function f(a,d){for(var b=a.fnGetData(d),c=0,e=$("\x3etd",d).length;c<e;c++)a.fnUpdate(b[c],d,c,!1);a.fnDraw()}function e(a,b){a=a.fnGetData(b);b=$("\x3etd",b);b[0].innerHTML='\x3cinput type\x3d"text" class\x3d"form-control small" value\x3d"'+a[0]+'"\x3e';b[1].innerHTML='\x3cinput type\x3d"text" class\x3d"form-control small" value\x3d"'+a[1]+'"\x3e';b[2].innerHTML='\x3cinput type\x3d"text" class\x3d"form-control small" value\x3d"'+a[2]+'"\x3e';b[3].innerHTML='\x3cinput type\x3d"text" class\x3d"form-control small" value\x3d"'+a[3]+'"\x3e';b[4].innerHTML='\x3ca class\x3d"edit" href\x3d""\x3eSave\x3c/a\x3e';b[5].innerHTML='\x3ca class\x3d"cancel" href\x3d""\x3eCancel\x3c/a\x3e'}var b=$("#editable-sample").dataTable({aLengthMenu:[[5,15,20,-1],[5,15,20,"All"]],iDisplayLength:5,sDom:"\x3c'row'\x3c'col-lg-6'l\x3e\x3c'col-lg-6'f\x3er\x3et\x3c'row'\x3c'col-lg-6'i\x3e\x3c'col-lg-6'p\x3e\x3e",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"_MENU_ records per page",oPaginate:{sPrevious:"Prev",sNext:"Next"}},aoColumnDefs:[{bSortable:!1,aTargets:[0]}]});jQuery("#editable-sample_wrapper .dataTables_filter input").addClass("form-control medium");jQuery("#editable-sample_wrapper .dataTables_length select").addClass("form-control xsmall");var c=null;$("#editable-sample_new").click(function(a){a.preventDefault();a=b.fnAddData(';;;;\x3ca class\x3d"edit" href\x3d""\x3eEdit\x3c/a\x3e;\x3ca class\x3d"cancel" data-mode\x3d"new" href\x3d""\x3eCancel\x3c/a\x3e'.split(";"));a=b.fnGetNodes(a[0]);e(b,a);c=a});$("#editable-sample a.delete").live("click",function(a){a.preventDefault();0!=confirm("Are you sure to delete this row ?")&&(a=$(this).parents("tr")[0],b.fnDeleteRow(a),alert("Deleted! Do not forget to do some ajax to sync with backend :)"))});$("#editable-sample a.cancel").live("click",function(a){a.preventDefault();"new"==$(this).attr("data-mode")?(a=$(this).parents("tr")[0],b.fnDeleteRow(a)):(f(b,c),c=null)});$("#editable-sample a.edit").live("click",function(a){a.preventDefault();a=$(this).parents("tr")[0];if(null!==c&&c!=a)f(b,c),e(b,a),c=a;else if(c==a&&"Save"==this.innerHTML){a=c;var d=$("input",a);b.fnUpdate(d[0].value,a,0,!1);b.fnUpdate(d[1].value,a,1,!1);b.fnUpdate(d[2].value,a,2,!1);b.fnUpdate(d[3].value,a,3,!1);b.fnUpdate('\x3ca class\x3d"edit" href\x3d""\x3eEdit\x3c/a\x3e',a,4,!1);b.fnUpdate('\x3ca class\x3d"delete" href\x3d""\x3eDelete\x3c/a\x3e',a,5,!1);b.fnDraw();c=null;alert("Updated! Do not forget to do some ajax to sync with backend :)")}else e(b,a),c=a})}}}();