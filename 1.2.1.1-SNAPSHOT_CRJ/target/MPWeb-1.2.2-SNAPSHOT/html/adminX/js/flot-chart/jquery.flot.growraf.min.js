'use strict';(function(r){var t={none:function(a,d,c,b){if(0===b)for(d=0,b=a.data.length;d<b;d++)a.data[d][c.valueIndex]=a.dataOrg[d][c.valueIndex]},linear:function(a,d,c,b){d=Math.min(d/a.grow.duration,1);b=0;for(var e=a.data.length;b<e;b++){var h=a.dataOrg[b][c.valueIndex];null!==h?"up"===c.stepDirection?a.data[b][c.valueIndex]=h*d:"down"===c.stepDirection&&(a.data[b][c.valueIndex]=h+(a.yaxis.max-h)*(1-d)):a.data[b][c.valueIndex]=null}},maximum:function(a,d,c,b){var e=Math.min(d/a.grow.duration,1);d=a.yaxis.max*e;b=a.yaxis.min*e;for(var h=a.yaxis.max*(1-e),e=a.yaxis.min*(1-e),f=0,m=a.data.length;f<m;f++){var g=a.dataOrg[f][c.valueIndex];null!==g?"up"===c.stepDirection?a.data[f][c.valueIndex]=0<=g?Math.min(g,d):Math.max(g,b):"down"===c.stepDirection&&(a.data[f][c.valueIndex]=0<=g?Math.max(g,h):Math.min(g,e)):a.data[f][c.valueIndex]=null}},delay:function(a,d,c,b){if(d>=a.grow.duration)for(d=0,b=a.data.length;d<b;d++)a.data[d][c.valueIndex]=a.dataOrg[d][c.valueIndex]},reanimate:function(a,d,c,b){d=Math.min(d/a.grow.duration,1);b=0;for(var e=a.data.length;b<e;b++){var h=a.dataOrg[b][c.valueIndex];if(null===h)a.data[b][c.valueIndex]=null;else if(a.dataOld){var f=a.dataOld[b][c.valueIndex];a.data[b][c.valueIndex]=f+(h-f)*d}}}},v,x;(function(){for(var a=window.requestAnimationFrame,d=window.cancelAnimationFrame,c=+new Date,b=["ms","moz","webkit","o"],e=0;e<b.length&&!a;++e)a=window[b[e]+"RequestAnimationFrame"],d=window[b[e]+"CancelAnimationFrame"]||window[b[e]+"CancelRequestAnimationFrame"];a||(a=function(a,b){var d=+new Date,e=Math.max(0,16-(d-c));b=window.setTimeout(function(){a(d+e)},e);c=d+e;return b});d||(d=function(a){clearTimeout(a)});v=a;x=d})();r.plot.plugins.push({init:function(a){function d(){f=+new Date-h|0;for(var a=0,b=k.length;a<b;a++)for(var c=k[a],e=c.dataOld&&0<c.dataOld.length,l=0,g=c.grow.growings.length;l<g;l++){var q=c.grow.growings[l];(e&&"reinit"!==q.reanimate?"continue"===q.reanimate?t.reanimate:t.none:"function"===typeof q.stepMode?q.stepMode:t[q.stepMode]||t.none)(c,f,q,m)}w.setData(k);w.draw();0===m&&(m=1);f<n.series.grow.duration?p=v(d):(m=2,p=null,w.getPlaceholder().trigger("growFinished"))}function c(){if(p){for(var b=0;b<k.length;b++){var d=k[b];d.data=r.extend(!0,[],d.dataOrg)}a.setData(k);a.setupGrid()}}var b=!1,e=!0,h=0,f=0,m=0,g=[],p,w=a,k=null,n=null;a.hooks.drawSeries.push(function(a,d,c){n=a.getOptions();d=n.series.grow.valueIndex;if(!0===n.series.grow.active){var f=!1;if(n.series.grow.reanimate&&2===m){b=!1;h=m=0;k=a.getData();f=Math.min(k.length,g.length);for(c=0;c<f;c++)k[c].dataOld=g[c];e=f=!0}if(!b){f||(k=a.getData());m=0;h=+new Date|0;g=[];for(c=0;c<k.length;c++){var l=k[c];l.dataOrg=r.extend(!0,[],l.data);g.push(l.dataOrg);if(!f)for(var u=0;u<l.data.length;u++)l.data[u][d]=null===l.dataOrg[u][d]?null:0}a.setData(k);b=!0}}});a.hooks.draw.push(function(a,c){if(!0===e){n=a.getOptions();if(!0===n.series.grow.active){a=a.getData();c=n.series.grow.duration;for(var b=0,f=a.length;b<f;b++){var g=a[b].grow.duration;c<g&&(c=g)}n.series.grow.duration=c;h=+new Date|0;p=v(d)}e=!1}});a.hooks.bindEvents.push(function(a,b){a:{b=r.plot.plugins;for(var d=0,e=b.length;d<e;d++)if("resize"===b[d].name){b=!0;break a}b=!1}b&&a.getPlaceholder().resize(c)});a.hooks.shutdown.push(function(a,b){a.getPlaceholder().unbind("resize",c);p&&(x(p),p=null)})},options:{series:{grow:{active:!1,duration:1E3,valueIndex:1,reanimate:!0,growings:[{valueIndex:1,stepMode:"linear",stepDirection:"up",reanimate:"continue"}]}}},name:"growraf",version:"0.4.5"})})(jQuery);